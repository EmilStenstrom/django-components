<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A way to create simple reusable template components in Django."><link href=https://emilstenstrom.github.io/django-components/latest/CHANGELOG/ rel=canonical><link rel=prev href=..><link href=../CODE_OF_CONDUCT/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.36"><title>Changelog - Django-Components</title><link rel=stylesheet href=../assets/stylesheets/main.06209087.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_markdown_exec_pyodide.css><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../css/timeago.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="Changelog - Django-Components"><meta property=og:description content="A way to create simple reusable template components in Django."><meta property=og:image content=https://emilstenstrom.github.io/django-components/latest/assets/images/social/CHANGELOG.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta content=https://emilstenstrom.github.io/django-components/latest/CHANGELOG/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Changelog - Django-Components"><meta name=twitter:description content="A way to create simple reusable template components in Django."><meta name=twitter:image content=https://emilstenstrom.github.io/django-components/latest/assets/images/social/CHANGELOG.png></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#release-notes class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> ðŸš¨The documentation is still a work in progress. ðŸš¨ </div> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=Django-Components class="md-header__button md-logo" aria-label=Django-Components data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Django-Components </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Changelog </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/EmilStenstrom/django-components title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> EmilStenstrom/django-components </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Django-Components class="md-nav__button md-logo" aria-label=Django-Components data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Django-Components </label> <div class=md-nav__source> <a href=https://github.com/EmilStenstrom/django-components title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> EmilStenstrom/django-components </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=.. class="md-nav__link "> <span class=md-ellipsis> README </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> README </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Changelog </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Changelog </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../CODE_OF_CONDUCT/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> <li class=md-nav__item> <a href=../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_1_1> <div class="md-nav__link md-nav__container"> <a href=../reference/django_components/ class="md-nav__link "> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> django_components </span> </a> <label class="md-nav__link " for=__nav_2_1_1 id=__nav_2_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_1> <span class="md-nav__icon md-icon"></span> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> django_components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/django_components/app_settings/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> app_settings </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/apps/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> apps </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/attributes/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> attributes </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/autodiscover/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> autodiscover </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/component/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> component </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/component_media/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> component_media </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/component_registry/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> component_registry </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_1_1_9> <div class="md-nav__link md-nav__container"> <a href=../reference/django_components/components/ class="md-nav__link "> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> components </span> </a> <label class="md-nav__link " for=__nav_2_1_1_9 id=__nav_2_1_1_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_1_1_9_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_1_9> <span class="md-nav__icon md-icon"></span> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/django_components/components/dynamic/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> dynamic </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../reference/django_components/context/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> context </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/expression/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> expression </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/finders/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> finders </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/library/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> library </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/logger/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> logger </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_1_1_15> <div class="md-nav__link md-nav__container"> <a href=../reference/django_components/management/ class="md-nav__link "> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> management </span> </a> <label class="md-nav__link " for=__nav_2_1_1_15 id=__nav_2_1_1_15_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_1_1_15_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_1_15> <span class="md-nav__icon md-icon"></span> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> management </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_1_1_15_2> <div class="md-nav__link md-nav__container"> <a href=../reference/django_components/management/commands/ class="md-nav__link "> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> commands </span> </a> <label class="md-nav__link " for=__nav_2_1_1_15_2 id=__nav_2_1_1_15_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_1_1_15_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_1_15_2> <span class="md-nav__icon md-icon"></span> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/django_components/management/commands/startcomponent/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> startcomponent </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/management/commands/upgradecomponent/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> upgradecomponent </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../reference/django_components/middleware/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> middleware </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/node/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> node </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/provide/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> provide </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/slots/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> slots </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/tag_formatter/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> tag_formatter </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/template/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> template </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/template_loader/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> template_loader </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/template_parser/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> template_parser </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_1_1_24> <div class="md-nav__link md-nav__container"> <a href=../reference/django_components/templatetags/ class="md-nav__link "> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> templatetags </span> </a> <label class="md-nav__link " for=__nav_2_1_1_24 id=__nav_2_1_1_24_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_1_1_24_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_1_24> <span class="md-nav__icon md-icon"></span> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> templatetags </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/django_components/templatetags/component_tags/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> component_tags </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../reference/django_components/types/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> types </span> </a> </li> <li class=md-nav__item> <a href=../reference/django_components/utils/ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> utils </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_1_2> <div class="md-nav__link md-nav__container"> <a href=../reference/django_components_js/build/ class="md-nav__link "> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> django_components_js </span> </a> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_2> <span class="md-nav__icon md-icon"></span> <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code> django_components_js </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/EmilStenstrom/django-components/edit/master/docs/CHANGELOG.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/EmilStenstrom/django-components/raw/master/docs/CHANGELOG.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=release-notes>Release notes<a class=headerlink href=#release-notes title="Permanent link">Â¤</a></h1> <!-- BEGIN INCLUDE ../README.md '## Release notes' '## ' --> <p>ðŸš¨ðŸ“¢ <strong>Version 0.100</strong> - BREAKING CHANGE: - <code>django_components.safer_staticfiles</code> app was removed. It is no longer needed. - Installation changes: - Instead of defining component directories in <code>STATICFILES_DIRS</code>, set them to <a href=..#dirs><code>COMPONENTS.dirs</code></a>. - You now must define <code>STATICFILES_FINDERS</code> - <a href=https://github.com/EmilStenstrom/django-components/blob/master/docs/migrating_from_safer_staticfiles.md>See here how to migrate your settings.py</a> - Beside the top-level <code>/components</code> directory, you can now define also app-level components dirs, e.g. <code>[app]/components</code> (See <a href=..#app_dirs><code>COMPONENTS.app_dirs</code></a>). - When you call <code>as_view()</code> on a component instance, that instance will be passed to <code>View.as_view()</code></p> <p><strong>Version 0.97</strong> - Fixed template caching. You can now also manually create cached templates with <a href=..#template_cache_size---tune-the-template-cache><code>cached_template()</code></a> - The previously undocumented <code>get_template</code> was made private. - In it's place, there's a new <code>get_template</code>, which supersedes <code>get_template_string</code> (will be removed in v1). The new <code>get_template</code> is the same as <code>get_template_string</code>, except it allows to return either a string or a Template instance. - You now must use only one of <code>template</code>, <code>get_template</code>, <code>template_name</code>, or <code>get_template_name</code>.</p> <p><strong>Version 0.96</strong> - Run-time type validation for Python 3.11+ - If the <code>Component</code> class is typed, e.g. <code>Component[Args, Kwargs, ...]</code>, the args, kwargs, slots, and data are validated against the given types. (See <a href=..#runtime-input-validation-with-types>Runtime input validation with types</a>) - Render hooks - Set <code>on_render_before</code> and <code>on_render_after</code> methods on <code>Component</code> to intercept or modify the template or context before rendering, or the rendered result afterwards. (See <a href=..#component-hooks>Component hooks</a>) - <code>component_vars.is_filled</code> context variable can be accessed from within <code>on_render_before</code> and <code>on_render_after</code> hooks as <code>self.is_filled.my_slot</code></p> <p><strong>Version 0.95</strong> - Added support for dynamic components, where the component name is passed as a variable. (See <a href=..#dynamic-components>Dynamic components</a>) - Changed <code>Component.input</code> to raise <code>RuntimeError</code> if accessed outside of render context. Previously it returned <code>None</code> if unset.</p> <p><strong>Version 0.94</strong> - django_components now automatically configures Django to support multi-line tags. (See <a href=..#multi-line-tags>Multi-line tags</a>) - New setting <code>reload_on_template_change</code>. Set this to <code>True</code> to reload the dev server on changes to component template files. (See <a href=..#reload-dev-server-on-component-file-changes>Reload dev server on component file changes</a>)</p> <p><strong>Version 0.93</strong> - Spread operator <code>...dict</code> inside template tags. (See <a href=..#spread-operator>Spread operator</a>) - Use template tags inside string literals in component inputs. (See <a href=..#use-template-tags-inside-component-inputs>Use template tags inside component inputs</a>) - Dynamic slots, fills and provides - The <code>name</code> argument for these can now be a variable, a template expression, or via spread operator - Component library authors can now configure <code>CONTEXT_BEHAVIOR</code> and <code>TAG_FORMATTER</code> settings independently from user settings.</p> <p>ðŸš¨ðŸ“¢ <strong>Version 0.92</strong> - BREAKING CHANGE: <code>Component</code> class is no longer a subclass of <code>View</code>. To configure the <code>View</code> class, set the <code>Component.View</code> nested class. HTTP methods like <code>get</code> or <code>post</code> can still be defined directly on <code>Component</code> class, and <code>Component.as_view()</code> internally calls <code>Component.View.as_view()</code>. (See <a href=..#modifying-the-view-class>Modifying the View class</a>)</p> <ul> <li> <p>The inputs (args, kwargs, slots, context, ...) that you pass to <code>Component.render()</code> can be accessed from within <code>get_context_data</code>, <code>get_template</code> and <code>get_template_name</code> via <code>self.input</code>. (See <a href=..#accessing-data-passed-to-the-component>Accessing data passed to the component</a>)</p> </li> <li> <p>Typing: <code>Component</code> class supports generics that specify types for <code>Component.render</code> (See <a href=..#adding-type-hints-with-generics>Adding type hints with Generics</a>)</p> </li> </ul> <p><strong>Version 0.90</strong> - All tags (<code>component</code>, <code>slot</code>, <code>fill</code>, ...) now support "self-closing" or "inline" form, where you can omit the closing tag: <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c>{# Before #}</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;button&quot;</span> <span class=cp>%}{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=c>{# After #}</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;button&quot;</span> <span class=o>/</span> <span class=cp>%}</span>
</code></pre></div> - All tags now support the "dictionary key" or "aggregate" syntax (<code>kwarg:key=val</code>): <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;button&quot;</span> <span class=nv>attrs</span><span class=o>:</span><span class=nv>class</span><span class=o>=</span><span class=s2>&quot;hidden&quot;</span> <span class=cp>%}</span>
</code></pre></div> - You can change how the components are written in the template with <a href=..#customizing-component-tags-with-tagformatter>TagFormatter</a>.</p> <div class=codehilite><pre><span></span><code>The default is <span class=sb>`django_components.component_formatter`</span>:
```django
{% component &quot;button&quot; href=&quot;...&quot; disabled %}
    Click me!
{% endcomponent %}
```

While <span class=sb>`django_components.shorthand_component_formatter`</span> allows you to write components like so:

```django
{% button href=&quot;...&quot; disabled %}
    Click me!
{% endbutton %}
</code></pre></div> <p>ðŸš¨ðŸ“¢ <strong>Version 0.85</strong> Autodiscovery module resolution changed. Following undocumented behavior was removed:</p> <ul> <li>Previously, autodiscovery also imported any <code>[app]/components.py</code> files, and used <code>SETTINGS_MODULE</code> to search for component dirs.</li> <li>To migrate from:<ul> <li><code>[app]/components.py</code> - Define each module in <code>COMPONENTS.libraries</code> setting, or import each module inside the <code>AppConfig.ready()</code> hook in respective <code>apps.py</code> files.</li> <li><code>SETTINGS_MODULE</code> - Define component dirs using <code>STATICFILES_DIRS</code></li> </ul> </li> <li>Previously, autodiscovery handled relative files in <code>STATICFILES_DIRS</code>. To align with Django, <code>STATICFILES_DIRS</code> now must be full paths (<a href=https://docs.djangoproject.com/en/5.0/ref/settings/#std-setting-STATICFILES_DIRS>Django docs</a>).</li> </ul> <p>ðŸš¨ðŸ“¢ <strong>Version 0.81</strong> Aligned the <code>render_to_response</code> method with the (now public) <code>render</code> method of <code>Component</code> class. Moreover, slots passed to these can now be rendered also as functions.</p> <ul> <li>BREAKING CHANGE: The order of arguments to <code>render_to_response</code> has changed.</li> </ul> <p><strong>Version 0.80</strong> introduces dependency injection with the <code>{% provide %}</code> tag and <code>inject()</code> method.</p> <p>ðŸš¨ðŸ“¢ <strong>Version 0.79</strong></p> <ul> <li>BREAKING CHANGE: Default value for the <code>COMPONENTS.context_behavior</code> setting was changes from <code>"isolated"</code> to <code>"django"</code>. If you did not set this value explicitly before, this may be a breaking change. See the rationale for change <a href=https://github.com/EmilStenstrom/django-components/issues/498>here</a>.</li> </ul> <p>ðŸš¨ðŸ“¢ <strong>Version 0.77</strong> CHANGED the syntax for accessing default slot content.</p> <ul> <li>Previously, the syntax was <code>{% fill "my_slot" as "alias" %}</code> and <code>{{ alias.default }}</code>.</li> <li>Now, the syntax is <code>{% fill "my_slot" default="alias" %}</code> and <code>{{ alias }}</code>.</li> </ul> <p><strong>Version 0.74</strong> introduces <code>html_attrs</code> tag and <code>prefix:key=val</code> construct for passing dicts to components.</p> <p>ðŸš¨ðŸ“¢ <strong>Version 0.70</strong></p> <ul> <li><code>{% if_filled "my_slot" %}</code> tags were replaced with <code>{{ component_vars.is_filled.my_slot }}</code> variables.</li> <li>Simplified settings - <code>slot_context_behavior</code> and <code>context_behavior</code> were merged. See the <a href=#context-behavior>documentation</a> for more details.</li> </ul> <p><strong>Version 0.67</strong> CHANGED the default way how context variables are resolved in slots. See the <a href=https://github.com/EmilStenstrom/django-components/tree/0.67#isolate-components-slots>documentation</a> for more details.</p> <p>ðŸš¨ðŸ“¢ <strong>Version 0.5</strong> CHANGES THE SYNTAX for components. <code>component_block</code> is now <code>component</code>, and <code>component</code> blocks need an ending <code>endcomponent</code> tag. The new <code>python manage.py upgradecomponent</code> command can be used to upgrade a directory (use --path argument to point to each dir) of templates that use components to the new syntax automatically.</p> <p>This change is done to simplify the API in anticipation of a 1.0 release of django_components. After 1.0 we intend to be stricter with big changes like this in point releases.</p> <p><strong>Version 0.34</strong> adds components as views, which allows you to handle requests and render responses from within a component. See the <a href=#use-components-as-views>documentation</a> for more details.</p> <p><strong>Version 0.28</strong> introduces 'implicit' slot filling and the <code>default</code> option for <code>slot</code> tags.</p> <p><strong>Version 0.27</strong> adds a second installable app: <em>django_components.safer_staticfiles</em>. It provides the same behavior as <em>django.contrib.staticfiles</em> but with extra security guarantees (more info below in Security Notes).</p> <p><strong>Version 0.26</strong> changes the syntax for <code>{% slot %}</code> tags. From now on, we separate defining a slot (<code>{% slot %}</code>) from filling a slot with content (<code>{% fill %}</code>). This means you will likely need to change a lot of slot tags to fill. We understand this is annoying, but it's the only way we can get support for nested slots that fill in other slots, which is a very nice featuPpre to have access to. Hoping that this will feel worth it!</p> <p><strong>Version 0.22</strong> starts autoimporting all files inside components subdirectores, to simplify setup. An existing project might start to get AlreadyRegistered-errors because of this. To solve this, either remove your custom loading of components, or set "autodiscover": False in settings.COMPONENTS.</p> <p><strong>Version 0.17</strong> renames <code>Component.context</code> and <code>Component.template</code> to <code>get_context_data</code> and <code>get_template_name</code>. The old methods still work, but emit a deprecation warning. This change was done to sync naming with Django's class based views, and make using django-components more familiar to Django users. <code>Component.context</code> and <code>Component.template</code> will be removed when version 1.0 is released.</p> <p>Static files</p> <p>Components can be organized however you prefer. That said, our prefered way is to keep the files of a component close together by bundling them in the same directory.</p> <p>This means that files containing backend logic, such as Python modules and HTML templates, live in the same directory as static files, e.g. JS and CSS.</p> <p>From v0.100 onwards, we keep component files (as defined by <a href=#dirs><code>COMPONENTS.dirs</code></a> and <a href=#app_dirs><code>COMPONENTS.app_dirs</code></a>) separate from the rest of the static files (defined by <code>STATICFILES_DIRS</code>). That way, the Python and HTML files are NOT exposed by the server. Only the static JS, CSS, and <a href=#static_files_allowed>other common formats</a>.</p> <blockquote> <p>NOTE: If you need to expose different file formats, you can configure these with <a href=#static_files_allowed><code>COMPONENTS.static_files_allowed</code></a> and <a href=#static_files_forbidden><code>COMPONENTS.static_files_forbidden</code></a>.</p> </blockquote> <!-- # TODO_REMOVE_IN_V1 - Remove mentions of safer_staticfiles in V1 --> <h2 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">Â¤</a></h2> <ol> <li>Install <code>django_components</code> into your environment:</li> </ol> <blockquote> <p><code>pip install django_components</code></p> </blockquote> <ol> <li>Load <code>django_components</code> into Django by adding it into <code>INSTALLED_APPS</code> in settings.py:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>INSTALLED_APPS</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>   <span class=o>...</span><span class=p>,</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>   <span class=s1>&#39;django_components&#39;</span><span class=p>,</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=p>]</span>
</code></pre></div> <ol> <li><code>BASE_DIR</code> setting is required. Ensure that it is defined in settings.py:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>BASE_DIR</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>resolve</span><span class=p>()</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>parent</span>
</code></pre></div> <ol> <li>Add / modify <a href=#dirs><code>COMPONENTS.dirs</code></a> and / or <a href=#app_dirs><code>COMPONENTS.app_dirs</code></a> so django_components knows where to find component HTML, JS and CSS files:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>    <span class=s2>&quot;dirs&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>         <span class=o>...</span><span class=p>,</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>         <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>BASE_DIR</span><span class=p>,</span> <span class=s2>&quot;components&quot;</span><span class=p>),</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>     <span class=p>],</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=p>}</span>
</code></pre></div> <p>If <code>COMPONENTS.dirs</code> is omitted, django-components will by default look for a top-level <code>/components</code> directory, <code>{BASE_DIR}/components</code>.</p> <p>In addition to <code>COMPONENTS.dirs</code>, django_components will also load components from app-level directories, such as <code>my-app/components/</code>. The directories within apps are configured with <a href=#app_dirs><code>COMPONENTS.app_dirs</code></a>, and the default is <code>[app]/components</code>.</p> <p>NOTE: The input to <code>COMPONENTS.dirs</code> is the same as for <code>STATICFILES_DIRS</code>, and the paths must be full paths. <a href=https://docs.djangoproject.com/en/5.0/ref/settings/#staticfiles-dirs>See Django docs</a>.</p> <ol> <li> <p>Next, to make Django load component HTML files as Django templates, modify <code>TEMPLATES</code> section of settings.py as follows:</p> </li> <li> <p><em>Remove <code>'APP_DIRS': True,</code></em></p> <ul> <li>NOTE: Instead of APP_DIRS, for the same effect, we will use <a href=https://docs.djangoproject.com/en/5.1/ref/templates/api/#django.template.loaders.app_directories.Loader><code>django.template.loaders.app_directories.Loader</code></a></li> </ul> </li> <li>Add <code>loaders</code> to <code>OPTIONS</code> list and set it to following value:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>TEMPLATES</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>   <span class=p>{</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>      <span class=o>...</span><span class=p>,</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>      <span class=s1>&#39;OPTIONS&#39;</span><span class=p>:</span> <span class=p>{</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>            <span class=s1>&#39;context_processors&#39;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>               <span class=o>...</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>            <span class=p>],</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>            <span class=s1>&#39;loaders&#39;</span><span class=p>:[(</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>               <span class=s1>&#39;django.template.loaders.cached.Loader&#39;</span><span class=p>,</span> <span class=p>[</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>                  <span class=c1># Default Django loader</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>                  <span class=s1>&#39;django.template.loaders.filesystem.Loader&#39;</span><span class=p>,</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>                  <span class=c1># Inluding this is the same as APP_DIRS=True</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>                  <span class=s1>&#39;django.template.loaders.app_directories.Loader&#39;</span><span class=p>,</span>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>                  <span class=c1># Components loader</span>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>                  <span class=s1>&#39;django_components.template_loader.Loader&#39;</span><span class=p>,</span>
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a>               <span class=p>]</span>
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a>            <span class=p>)],</span>
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a>      <span class=p>},</span>
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a>   <span class=p>},</span>
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a><span class=p>]</span>
</code></pre></div> <ol> <li>Lastly, be able to serve the component JS and CSS files as static files, modify <code>STATICFILES_FINDERS</code> section of settings.py as follows:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>STATICFILES_FINDERS</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>    <span class=c1># Default finders</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=s2>&quot;django.contrib.staticfiles.finders.FileSystemFinder&quot;</span><span class=p>,</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>    <span class=s2>&quot;django.contrib.staticfiles.finders.AppDirectoriesFinder&quot;</span><span class=p>,</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>    <span class=c1># Django components</span>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>    <span class=s2>&quot;django_components.finders.ComponentsFileSystemFinder&quot;</span><span class=p>,</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=p>]</span>
</code></pre></div> <h1 id=compatibility>Compatibility<a class=headerlink href=#compatibility title="Permanent link">Â¤</a></h1> <p>Django-components supports all supported combinations versions of <a href=https://docs.djangoproject.com/en/dev/faq/install/#what-python-version-can-i-use-with-django>Django</a> and <a href=https://devguide.python.org/versions/#versions>Python</a>.</p> <table> <thead> <tr> <th>Python version</th> <th>Django version</th> </tr> </thead> <tbody> <tr> <td>3.8</td> <td>4.2</td> </tr> <tr> <td>3.9</td> <td>4.2</td> </tr> <tr> <td>3.10</td> <td>4.2, 5.0</td> </tr> <tr> <td>3.11</td> <td>4.2, 5.0</td> </tr> <tr> <td>3.12</td> <td>4.2, 5.0</td> </tr> </tbody> </table> <p>Using single-file components</p> <p>Components can also be defined in a single file, which is useful for small components. To do this, you can use the <code>template</code>, <code>js</code>, and <code>css</code> class attributes instead of the <code>template_name</code> and <code>Media</code>. For example, here's the calendar component from above, defined in a single file:</p> <div class=highlight><span class=filename>[project root]/components/calendar.py</span><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1>## In a file called [project root]/components/calendar.py</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>Component</span><span class=p>,</span> <span class=n>register</span><span class=p>,</span> <span class=n>types</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;calendar&quot;</span><span class=p>)</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=k>class</span> <span class=nc>Calendar</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>date</span><span class=p>):</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>        <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=n>date</span><span class=p>,</span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>        <span class=p>}</span>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>    <span class=n>template</span><span class=p>:</span> <span class=n>types</span><span class=o>.</span><span class=n>django_html</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=s2>        &lt;div class=&quot;calendar-component&quot;&gt;Today&#39;s date is &lt;span&gt;{{ date }}&lt;/span&gt;&lt;/div&gt;</span>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=s2>    &quot;&quot;&quot;</span>
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a>    <span class=n>css</span><span class=p>:</span> <span class=n>types</span><span class=o>.</span><span class=n>css</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=s2>        .calendar-component { width: 200px; background: pink; }</span>
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=s2>        .calendar-component span { font-weight: bold; }</span>
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=s2>    &quot;&quot;&quot;</span>
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a>
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a>    <span class=n>js</span><span class=p>:</span> <span class=n>types</span><span class=o>.</span><span class=n>js</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a><span class=s2>        (function(){</span>
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a><span class=s2>            if (document.querySelector(&quot;.calendar-component&quot;)) {</span>
<a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a><span class=s2>                document.querySelector(&quot;.calendar-component&quot;).onclick = function(){ alert(&quot;Clicked calendar!&quot;); };</span>
<a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a><span class=s2>            }</span>
<a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a><span class=s2>        })()</span>
<a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a><span class=s2>    &quot;&quot;&quot;</span>
</code></pre></div> <p>This makes it easy to create small components without having to create a separate template, CSS, and JS file.</p> <h1 id=vscode>VSCode<a class=headerlink href=#vscode title="Permanent link">Â¤</a></h1> <p>Note, in the above example, that the <code>t.django_html</code>, <code>t.css</code>, and <code>t.js</code> types are used to specify the type of the template, CSS, and JS files, respectively. This is not necessary, but if you're using VSCode with the <a href="https://marketplace.visualstudio.com/items?itemName=samwillis.python-inline-source">Python Inline Source Syntax Highlighting</a> extension, it will give you syntax highlighting for the template, CSS, and JS.</p> <h2 id=use-components-in-templates>Use components in templates<a class=headerlink href=#use-components-in-templates title="Permanent link">Â¤</a></h2> <p>First load the <code>component_tags</code> tag library, then use the <code>component_[js/css]_dependencies</code> and <code>component</code> tags to render the component to the page.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=cp>{%</span> <span class=k>load</span> <span class=nv>component_tags</span> <span class=cp>%}</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=cp>&lt;!DOCTYPE html&gt;</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>My example calendar<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>    <span class=cp>{%</span> <span class=k>component_css_dependencies</span> <span class=cp>%}</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>    <span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar&quot;</span> <span class=nv>date</span><span class=o>=</span><span class=s2>&quot;2015-06-19&quot;</span> <span class=cp>%}{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>    <span class=cp>{%</span> <span class=k>component_js_dependencies</span> <span class=cp>%}</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <blockquote> <p>NOTE: Instead of writing <code>{% endcomponent %}</code> at the end, you can use a self-closing tag:</p> <p><code>{% component "calendar" date="2015-06-19" / %}</code></p> </blockquote> <p>The output from the above template will be:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=cp>&lt;!DOCTYPE html&gt;</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>  <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>My example calendar<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    <span class=p>&lt;</span><span class=nt>link</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>      <span class=na>href</span><span class=o>=</span><span class=s>&quot;/static/calendar/style.css&quot;</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>      <span class=na>type</span><span class=o>=</span><span class=s>&quot;text/css&quot;</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>      <span class=na>media</span><span class=o>=</span><span class=s>&quot;all&quot;</span>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>      <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>    <span class=p>/&gt;</span>
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>  <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>  <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;calendar-component&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>      Today&#39;s date is <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span>2015-06-19<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
<a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;/static/calendar/script.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>  <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>  <span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
<a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>This makes it possible to organize your front-end around reusable components. Instead of relying on template tags and keeping your CSS and Javascript in the static directory.</p> <p>Inputs of <code>render</code> and <code>render_to_response</code></p> <p>Both <code>render</code> and <code>render_to_response</code> accept the same input:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>Component</span><span class=o>.</span><span class=n>render</span><span class=p>(</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>    <span class=n>context</span><span class=p>:</span> <span class=n>Mapping</span> <span class=o>|</span> <span class=n>django</span><span class=o>.</span><span class=n>template</span><span class=o>.</span><span class=n>Context</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>    <span class=n>args</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>    <span class=n>kwargs</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>    <span class=n>slots</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>SafeString</span> <span class=o>|</span> <span class=n>SlotFunc</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>    <span class=n>escape_slots_content</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</code></pre></div> <ul> <li> <p><em><code>args</code></em> - Positional args for the component. This is the same as calling the component as <code>{% component "my_comp" arg1 arg2 ... %}</code></p> </li> <li> <p><em><code>kwargs</code></em> - Keyword args for the component. This is the same as calling the component as <code>{% component "my_comp" key1=val1 key2=val2 ... %}</code></p> </li> <li> <p><em><code>slots</code></em> - Component slot fills. This is the same as pasing <code>{% fill %}</code> tags to the component. Accepts a dictionary of <code>{ slot_name: slot_content }</code> where <code>slot_content</code> can be a string or <a href=#slotfunc><code>SlotFunc</code></a>.</p> </li> <li> <p><em><code>escape_slots_content</code></em> - Whether the content from <code>slots</code> should be escaped. <code>True</code> by default to prevent XSS attacks. If you disable escaping, you should make sure that any content you pass to the slots is safe, especially if it comes from user input.</p> </li> <li> <p><em><code>context</code></em> - A context (dictionary or Django's Context) within which the component is rendered. The keys on the context can be accessed from within the template.</p> </li> <li>NOTE: In "isolated" mode, context is NOT accessible, and data MUST be passed via component's args and kwargs.</li> </ul> <h2 id=response-class-of-render_to_response>Response class of <code>render_to_response</code><a class=headerlink href=#response-class-of-render_to_response title="Permanent link">Â¤</a></h2> <p>While <code>render</code> method returns a plain string, <code>render_to_response</code> wraps the rendered content in a "Response" class. By default, this is <code>django.http.HttpResponse</code>.</p> <p>If you want to use a different Response class in <code>render_to_response</code>, set the <code>Component.response_class</code> attribute:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=k>class</span> <span class=nc>MyResponse</span><span class=p>(</span><span class=n>HttpResponse</span><span class=p>):</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>   <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>      <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>      <span class=c1># Configure response</span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>      <span class=bp>self</span><span class=o>.</span><span class=n>headers</span> <span class=o>=</span> <span class=o>...</span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>      <span class=bp>self</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=o>...</span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=k>class</span> <span class=nc>SimpleComponent</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>   <span class=n>response_class</span> <span class=o>=</span> <span class=n>MyResponse</span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>   <span class=n>template</span><span class=p>:</span> <span class=n>types</span><span class=o>.</span><span class=n>django_html</span> <span class=o>=</span> <span class=s2>&quot;HELLO&quot;</span>
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>
<a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=n>response</span> <span class=o>=</span> <span class=n>SimpleComponent</span><span class=o>.</span><span class=n>render_to_response</span><span class=p>()</span>
<a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>response</span><span class=p>,</span> <span class=n>MyResponse</span><span class=p>)</span>
</code></pre></div> <p>Component as view example</p> <p>Here's an example of a calendar component defined as a view:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1>## In a file called [project root]/components/calendar.py</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>Component</span><span class=p>,</span> <span class=n>ComponentView</span><span class=p>,</span> <span class=n>register</span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;calendar&quot;</span><span class=p>)</span>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=k>class</span> <span class=nc>Calendar</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>    <span class=n>template</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a><span class=s2>        &lt;div class=&quot;calendar-component&quot;&gt;</span>
<a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=s2>            &lt;div class=&quot;header&quot;&gt;</span>
<a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a><span class=s2>                {</span><span class=si>% s</span><span class=s2>lot &quot;header&quot; / %}</span>
<a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a><span class=s2>            &lt;/div&gt;</span>
<a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a><span class=s2>            &lt;div class=&quot;body&quot;&gt;</span>
<a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a><span class=s2>                Today&#39;s date is &lt;span&gt;{{ date }}&lt;/span&gt;</span>
<a id=__codelineno-13-14 name=__codelineno-13-14 href=#__codelineno-13-14></a><span class=s2>            &lt;/div&gt;</span>
<a id=__codelineno-13-15 name=__codelineno-13-15 href=#__codelineno-13-15></a><span class=s2>        &lt;/div&gt;</span>
<a id=__codelineno-13-16 name=__codelineno-13-16 href=#__codelineno-13-16></a><span class=s2>    &quot;&quot;&quot;</span>
<a id=__codelineno-13-17 name=__codelineno-13-17 href=#__codelineno-13-17></a>
<a id=__codelineno-13-18 name=__codelineno-13-18 href=#__codelineno-13-18></a>    <span class=c1># Handle GET requests</span>
<a id=__codelineno-13-19 name=__codelineno-13-19 href=#__codelineno-13-19></a>    <span class=k>def</span> <span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a id=__codelineno-13-20 name=__codelineno-13-20 href=#__codelineno-13-20></a>        <span class=n>context</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-13-21 name=__codelineno-13-21 href=#__codelineno-13-21></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=n>request</span><span class=o>.</span><span class=n>GET</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;date&quot;</span><span class=p>,</span> <span class=s2>&quot;2020-06-06&quot;</span><span class=p>),</span>
<a id=__codelineno-13-22 name=__codelineno-13-22 href=#__codelineno-13-22></a>        <span class=p>}</span>
<a id=__codelineno-13-23 name=__codelineno-13-23 href=#__codelineno-13-23></a>        <span class=n>slots</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-13-24 name=__codelineno-13-24 href=#__codelineno-13-24></a>            <span class=s2>&quot;header&quot;</span><span class=p>:</span> <span class=s2>&quot;Calendar header&quot;</span><span class=p>,</span>
<a id=__codelineno-13-25 name=__codelineno-13-25 href=#__codelineno-13-25></a>        <span class=p>}</span>
<a id=__codelineno-13-26 name=__codelineno-13-26 href=#__codelineno-13-26></a>        <span class=c1># Return HttpResponse with the rendered content</span>
<a id=__codelineno-13-27 name=__codelineno-13-27 href=#__codelineno-13-27></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>render_to_response</span><span class=p>(</span>
<a id=__codelineno-13-28 name=__codelineno-13-28 href=#__codelineno-13-28></a>            <span class=n>context</span><span class=o>=</span><span class=n>context</span><span class=p>,</span>
<a id=__codelineno-13-29 name=__codelineno-13-29 href=#__codelineno-13-29></a>            <span class=n>slots</span><span class=o>=</span><span class=n>slots</span><span class=p>,</span>
<a id=__codelineno-13-30 name=__codelineno-13-30 href=#__codelineno-13-30></a>        <span class=p>)</span>
</code></pre></div> <p>Then, to use this component as a view, you should create a <code>urls.py</code> file in your components directory, and add a path to the component's view:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1>## In a file called [project root]/components/urls.py</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=kn>from</span> <span class=nn>django.urls</span> <span class=kn>import</span> <span class=n>path</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=kn>from</span> <span class=nn>components.calendar.calendar</span> <span class=kn>import</span> <span class=n>Calendar</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=n>urlpatterns</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>    <span class=n>path</span><span class=p>(</span><span class=s2>&quot;calendar/&quot;</span><span class=p>,</span> <span class=n>Calendar</span><span class=o>.</span><span class=n>as_view</span><span class=p>()),</span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=p>]</span>
</code></pre></div> <p><code>Component.as_view()</code> is a shorthand for calling <a href=https://docs.djangoproject.com/en/5.1/ref/class-based-views/base/#django.views.generic.base.View.as_view><code>View.as_view()</code></a> and passing the component instance as one of the arguments.</p> <p>Remember to add <code>__init__.py</code> to your components directory, so that Django can find the <code>urls.py</code> file.</p> <p>Finally, include the component's urls in your project's <code>urls.py</code> file:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1>## In a file called [project root]/urls.py</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=kn>from</span> <span class=nn>django.urls</span> <span class=kn>import</span> <span class=n>include</span><span class=p>,</span> <span class=n>path</span>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=n>urlpatterns</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>    <span class=n>path</span><span class=p>(</span><span class=s2>&quot;components/&quot;</span><span class=p>,</span> <span class=n>include</span><span class=p>(</span><span class=s2>&quot;components.urls&quot;</span><span class=p>)),</span>
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=p>]</span>
</code></pre></div> <p>Note: Slots content are automatically escaped by default to prevent XSS attacks. To disable escaping, set <code>escape_slots_content=False</code> in the <code>render_to_response</code> method. If you do so, you should make sure that any content you pass to the slots is safe, especially if it comes from user input.</p> <p>If you're planning on passing an HTML string, check Django's use of <a href=https://docs.djangoproject.com/en/5.0/ref/utils/#django.utils.html.format_html><code>format_html</code></a> and <a href=https://docs.djangoproject.com/en/5.0/ref/utils/#django.utils.safestring.mark_safe><code>mark_safe</code></a>.</p> <h1 id=typing-and-validating-components>Typing and validating components<a class=headerlink href=#typing-and-validating-components title="Permanent link">Â¤</a></h1> <h1 id=usage-for-python-311>Usage for Python &lt;3.11<a class=headerlink href=#usage-for-python-311 title="Permanent link">Â¤</a></h1> <p>On Python 3.8-3.10, use <code>typing_extensions</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=kn>from</span> <span class=nn>typing_extensions</span> <span class=kn>import</span> <span class=n>TypedDict</span><span class=p>,</span> <span class=n>NotRequired</span>
</code></pre></div> <p>Additionally on Python 3.8-3.9, also import <code>annotations</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>annotations</span>
</code></pre></div> <p>Moreover, on 3.10 and less, you may not be able to use <code>NotRequired</code>, and instead you will need to mark either all keys are required, or all keys as optional, using TypeDict's <code>total</code> kwarg.</p> <p><a href=https://peps.python.org/pep-0655>See PEP-655</a> for more info.</p> <h1 id=handling-no-args-or-no-kwargs>Handling no args or no kwargs<a class=headerlink href=#handling-no-args-or-no-kwargs title="Permanent link">Â¤</a></h1> <p>To declare that a component accepts no Args, Kwargs, etc, you can use <code>EmptyTuple</code> and <code>EmptyDict</code> types:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>Component</span><span class=p>,</span> <span class=n>EmptyDict</span><span class=p>,</span> <span class=n>EmptyTuple</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=n>Args</span> <span class=o>=</span> <span class=n>EmptyTuple</span>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=n>Kwargs</span> <span class=o>=</span> <span class=n>Data</span> <span class=o>=</span> <span class=n>Slots</span> <span class=o>=</span> <span class=n>EmptyDict</span>
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a><span class=k>class</span> <span class=nc>Button</span><span class=p>(</span><span class=n>Component</span><span class=p>[</span><span class=n>Args</span><span class=p>,</span> <span class=n>Kwargs</span><span class=p>,</span> <span class=n>Data</span><span class=p>,</span> <span class=n>Slots</span><span class=p>]):</span>
<a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>    <span class=o>...</span>
</code></pre></div> <h1 id=pre-defined-components>Pre-defined components<a class=headerlink href=#pre-defined-components title="Permanent link">Â¤</a></h1> <h1 id=registering-components>Registering components<a class=headerlink href=#registering-components title="Permanent link">Â¤</a></h1> <p>In previous examples you could repeatedly see us using <code>@register()</code> to "register" the components. In this section we dive deeper into what it actually means and how you can manage (add or remove) components.</p> <p>As a reminder, we may have a component like this:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>Component</span><span class=p>,</span> <span class=n>register</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;calendar&quot;</span><span class=p>)</span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=k>class</span> <span class=nc>Calendar</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>    <span class=n>template_name</span> <span class=o>=</span> <span class=s2>&quot;template.html&quot;</span>
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a>    <span class=c1># This component takes one parameter, a date string to show in the template</span>
<a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>date</span><span class=p>):</span>
<a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a>        <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=n>date</span><span class=p>,</span>
<a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a>        <span class=p>}</span>
</code></pre></div> <p>which we then render in the template as:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar&quot;</span> <span class=nv>date</span><span class=o>=</span><span class=s2>&quot;1970-01-01&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <p>As you can see, <code>@register</code> links up the component class with the <code>{% component %}</code> template tag. So when the template tag comes across a component called <code>"calendar"</code>, it can look up it's class and instantiate it.</p> <h1 id=working-with-componentregistry>Working with ComponentRegistry<a class=headerlink href=#working-with-componentregistry title="Permanent link">Â¤</a></h1> <p>The default <code>ComponentRegistry</code> instance can be imported as:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>registry</span>
</code></pre></div> <p>You can use the registry to manually add/remove/get components:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>registry</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=c1>## Register components</span>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=n>registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&quot;button&quot;</span><span class=p>,</span> <span class=n>ButtonComponent</span><span class=p>)</span>
<a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=n>registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&quot;card&quot;</span><span class=p>,</span> <span class=n>CardComponent</span><span class=p>)</span>
<a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a>
<a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=c1>## Get all or single</span>
<a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a><span class=n>registry</span><span class=o>.</span><span class=n>all</span><span class=p>()</span>  <span class=c1># {&quot;button&quot;: ButtonComponent, &quot;card&quot;: CardComponent}</span>
<a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a><span class=n>registry</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;card&quot;</span><span class=p>)</span>  <span class=c1># CardComponent</span>
<a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a>
<a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a><span class=c1>## Unregister single component</span>
<a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a><span class=n>registry</span><span class=o>.</span><span class=n>unregister</span><span class=p>(</span><span class=s2>&quot;card&quot;</span><span class=p>)</span>
<a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a>
<a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a><span class=c1>## Unregister all components</span>
<a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a><span class=n>registry</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</code></pre></div> <h1 id=componentregistry-settings>ComponentRegistry settings<a class=headerlink href=#componentregistry-settings title="Permanent link">Â¤</a></h1> <p>When you are creating an instance of <code>ComponentRegistry</code>, you can define the components' behavior within the template.</p> <p>The registry accepts these settings: - <code>CONTEXT_BEHAVIOR</code> - <code>TAG_FORMATTER</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=kn>from</span> <span class=nn>django.template</span> <span class=kn>import</span> <span class=n>Library</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>ComponentRegistry</span><span class=p>,</span> <span class=n>RegistrySettings</span>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=n>register</span> <span class=o>=</span> <span class=n>library</span> <span class=o>=</span> <span class=n>django</span><span class=o>.</span><span class=n>template</span><span class=o>.</span><span class=n>Library</span><span class=p>()</span>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=n>comp_registry</span> <span class=o>=</span> <span class=n>ComponentRegistry</span><span class=p>(</span>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a>    <span class=n>library</span><span class=o>=</span><span class=n>library</span><span class=p>,</span>
<a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a>    <span class=n>settings</span><span class=o>=</span><span class=n>RegistrySettings</span><span class=p>(</span>
<a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a>        <span class=n>CONTEXT_BEHAVIOR</span><span class=o>=</span><span class=s2>&quot;isolated&quot;</span><span class=p>,</span>
<a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a>        <span class=n>TAG_FORMATTER</span><span class=o>=</span><span class=s2>&quot;django_components.component_formatter&quot;</span><span class=p>,</span>
<a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a>    <span class=p>),</span>
<a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=p>)</span>
</code></pre></div> <p>These settings are <a href=#available-settings>the same as the ones you can set for django_components</a>.</p> <p>In fact, when you set <code>COMPONENT.tag_formatter</code> or <code>COMPONENT.context_behavior</code>, these are forwarded to the default <code>ComponentRegistry</code>.</p> <p>This makes it possible to have multiple registries with different settings in one projects, and makes sharing of component libraries possible.</p> <p>Manually trigger autodiscovery</p> <p>Autodiscovery can be also triggered manually as a function call. This is useful if you want to run autodiscovery at a custom point of the lifecycle:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>autodiscover</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=n>autodiscover</span><span class=p>()</span>
</code></pre></div> <p>Default slot</p> <p><em>Added in version 0.28</em></p> <p>As you can see, component slots lets you write reusable containers that you fill in when you use a component. This makes for highly reusable components that can be used in different circumstances.</p> <p>It can become tedious to use <code>fill</code> tags everywhere, especially when you're using a component that declares only one slot. To make things easier, <code>slot</code> tags can be marked with an optional keyword: <code>default</code>. When added to the end of the tag (as shown below), this option lets you pass filling content directly in the body of a <code>component</code> tag pair â€“ without using a <code>fill</code> tag. Choose carefully, though: a component template may contain at most one slot that is marked as <code>default</code>. The <code>default</code> option can be combined with other slot options, e.g. <code>required</code>.</p> <p>Here's the same example as before, except with default slots and implicit filling.</p> <p>The template:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;calendar-component&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;header&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;header&quot;</span> <span class=cp>%}</span>Calendar header<span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;body&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;body&quot;</span> <span class=nv>default</span> <span class=cp>%}</span>Today&#39;s date is <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span><span class=cp>{{</span> <span class=nv>date</span> <span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span><span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>Including the component (notice how the <code>fill</code> tag is omitted):</p> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar&quot;</span> <span class=nv>date</span><span class=o>=</span><span class=s2>&quot;2020-06-06&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a>    Can you believe it&#39;s already <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span><span class=cp>{{</span> <span class=nv>date</span> <span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>??
<a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <p>The rendered result (exactly the same as before):</p> <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;calendar-component&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;header&quot;</span><span class=p>&gt;</span>Calendar header<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;body&quot;</span><span class=p>&gt;</span>Can you believe it&#39;s already <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span>2020-06-06<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>??<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>You may be tempted to combine implicit fills with explicit <code>fill</code> tags. This will not work. The following component template will raise an error when compiled.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=c>{# DON&#39;T DO THIS #}</span>
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar&quot;</span> <span class=nv>date</span><span class=o>=</span><span class=s2>&quot;2020-06-06&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>    <span class=cp>{%</span> <span class=k>fill</span> <span class=s2>&quot;header&quot;</span> <span class=cp>%}</span>Totally new header!<span class=cp>{%</span> <span class=k>endfill</span> <span class=cp>%}</span>
<a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a>    Can you believe it&#39;s already <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span><span class=cp>{{</span> <span class=nv>date</span> <span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>??
<a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <p>By contrast, it is permitted to use <code>fill</code> tags in nested components, e.g.:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar&quot;</span> <span class=nv>date</span><span class=o>=</span><span class=s2>&quot;2020-06-06&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a>    <span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;beautiful-box&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a>        <span class=cp>{%</span> <span class=k>fill</span> <span class=s2>&quot;content&quot;</span> <span class=cp>%}</span> Can you believe it&#39;s already <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span><span class=cp>{{</span> <span class=nv>date</span> <span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>?? <span class=cp>{%</span> <span class=k>endfill</span> <span class=cp>%}</span>
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a>    <span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
<a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <p>This is fine too:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar&quot;</span> <span class=nv>date</span><span class=o>=</span><span class=s2>&quot;2020-06-06&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>    <span class=cp>{%</span> <span class=k>fill</span> <span class=s2>&quot;header&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a>        <span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar-header&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a>            Super Special Calendar Header
<a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a>        <span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
<a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a>    <span class=cp>{%</span> <span class=k>endfill</span> <span class=cp>%}</span>
<a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <h1 id=default-and-required-slots>Default and required slots<a class=headerlink href=#default-and-required-slots title="Permanent link">Â¤</a></h1> <p>If you use a slot multiple times, you can still mark the slot as <code>default</code> or <code>required</code>. For that, you must mark ONLY ONE of the identical slots.</p> <p>We recommend to mark the first occurence for consistency, e.g.:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;calendar-component&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;header&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;image&quot;</span> <span class=nv>default</span> <span class=nv>required</span> <span class=cp>%}</span>Image here<span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;body&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;image&quot;</span> <span class=cp>%}</span>Image here<span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>Which you can then use are regular default slot:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar&quot;</span> <span class=nv>date</span><span class=o>=</span><span class=s2>&quot;2020-06-06&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;...&quot;</span> <span class=p>/&gt;</span>
<a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <h1 id=conditional-slots>Conditional slots<a class=headerlink href=#conditional-slots title="Permanent link">Â¤</a></h1> <p><em>Added in version 0.26.</em></p> <blockquote> <p>NOTE: In version 0.70, <code>{% if_filled %}</code> tags were replaced with <code>{{ component_vars.is_filled }}</code> variables. If your slot name contained special characters, see the section <a href=#accessing-is_filled-of-slot-names-with-special-characters>Accessing <code>is_filled</code> of slot names with special characters</a>.</p> </blockquote> <p>In certain circumstances, you may want the behavior of slot filling to depend on whether or not a particular slot is filled.</p> <p>For example, suppose we have the following component template:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;frontmatter-component&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;title&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;title&quot;</span> <span class=cp>%}</span>Title<span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;subtitle&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;subtitle&quot;</span> <span class=cp>%}</span><span class=c>{# Optional subtitle #}</span><span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>By default the slot named 'subtitle' is empty. Yet when the component is used without explicit fills, the div containing the slot is still rendered, as shown below:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;frontmatter-component&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;title&quot;</span><span class=p>&gt;</span>Title<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;subtitle&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>This may not be what you want. What if instead the outer 'subtitle' div should only be included when the inner slot is in fact filled?</p> <p>The answer is to use the <code>{{ component_vars.is_filled.&lt;name&gt; }}</code> variable. You can use this together with Django's <code>{% if/elif/else/endif %}</code> tags to define a block whose contents will be rendered only if the component slot with the corresponding 'name' is filled.</p> <p>This is what our example looks like with <code>component_vars.is_filled</code>.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;frontmatter-component&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;title&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;title&quot;</span> <span class=cp>%}</span>Title<span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a>    <span class=cp>{%</span> <span class=k>if</span> <span class=nv>component_vars.is_filled.subtitle</span> <span class=cp>%}</span>
<a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;subtitle&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;subtitle&quot;</span> <span class=cp>%}</span><span class=c>{# Optional subtitle #}</span><span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a>    <span class=cp>{%</span> <span class=k>endif</span> <span class=cp>%}</span>
<a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a>
<a id=__codelineno-35-12 name=__codelineno-35-12 href=#__codelineno-35-12></a>Here&#39;s our example with more complex branching.
<a id=__codelineno-35-13 name=__codelineno-35-13 href=#__codelineno-35-13></a>
<a id=__codelineno-35-14 name=__codelineno-35-14 href=#__codelineno-35-14></a>```htmldjango
<a id=__codelineno-35-15 name=__codelineno-35-15 href=#__codelineno-35-15></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;frontmatter-component&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-35-16 name=__codelineno-35-16 href=#__codelineno-35-16></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;title&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-35-17 name=__codelineno-35-17 href=#__codelineno-35-17></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;title&quot;</span> <span class=cp>%}</span>Title<span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-35-18 name=__codelineno-35-18 href=#__codelineno-35-18></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-35-19 name=__codelineno-35-19 href=#__codelineno-35-19></a>    <span class=cp>{%</span> <span class=k>if</span> <span class=nv>component_vars.is_filled.subtitle</span> <span class=cp>%}</span>
<a id=__codelineno-35-20 name=__codelineno-35-20 href=#__codelineno-35-20></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;subtitle&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-35-21 name=__codelineno-35-21 href=#__codelineno-35-21></a>        <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;subtitle&quot;</span> <span class=cp>%}</span><span class=c>{# Optional subtitle #}</span><span class=cp>{%</span> <span class=k>endslot</span> <span class=cp>%}</span>
<a id=__codelineno-35-22 name=__codelineno-35-22 href=#__codelineno-35-22></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-35-23 name=__codelineno-35-23 href=#__codelineno-35-23></a>    <span class=cp>{%</span> <span class=k>elif</span> <span class=nv>component_vars.is_filled.title</span> <span class=cp>%}</span>
<a id=__codelineno-35-24 name=__codelineno-35-24 href=#__codelineno-35-24></a>        ...
<a id=__codelineno-35-25 name=__codelineno-35-25 href=#__codelineno-35-25></a>    <span class=cp>{%</span> <span class=k>elif</span> <span class=nv>component_vars.is_filled</span><span class=p>.</span><span class=o>&lt;</span><span class=nv>name</span><span class=o>&gt;</span> <span class=cp>%}</span>
<a id=__codelineno-35-26 name=__codelineno-35-26 href=#__codelineno-35-26></a>        ...
<a id=__codelineno-35-27 name=__codelineno-35-27 href=#__codelineno-35-27></a>    <span class=cp>{%</span> <span class=k>endif</span> <span class=cp>%}</span>
<a id=__codelineno-35-28 name=__codelineno-35-28 href=#__codelineno-35-28></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>Sometimes you're not interested in whether a slot is filled, but rather that it <em>isn't</em>. To negate the meaning of <code>component_vars.is_filled</code>, simply treat it as boolean and negate it with <code>not</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=cp>{%</span> <span class=k>if</span> <span class=k>not</span> <span class=nv>component_vars.is_filled.subtitle</span> <span class=cp>%}</span>
<a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;subtitle&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a>    <span class=cp>{%</span> <span class=k>slot</span> <span class=s2>&quot;subtitle&quot;</span> <span class=o>/</span> <span class=cp>%}</span>
<a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a><span class=cp>{%</span> <span class=k>endif</span> <span class=cp>%}</span>
</code></pre></div> <h3 id=scoped-slots>Scoped slots<a class=headerlink href=#scoped-slots title="Permanent link">Â¤</a></h3> <p><em>Added in version 0.76</em>:</p> <p>Consider a component with slot(s). This component may do some processing on the inputs, and then use the processed variable in the slot's default template:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;my_comp&quot;</span><span class=p>)</span>
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=k>class</span> <span class=nc>MyComp</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a>    <span class=n>template</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=s2>        &lt;div&gt;</span>
<a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=s2>            {</span><span class=si>% s</span><span class=s2>lot &quot;content&quot; default %}</span>
<a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a><span class=s2>                input: {{ input }}</span>
<a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a><span class=s2>            {</span><span class=si>% e</span><span class=s2>ndslot %}</span>
<a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=s2>        &lt;/div&gt;</span>
<a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a><span class=s2>    &quot;&quot;&quot;</span>
<a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a>
<a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>input</span><span class=p>):</span>
<a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a>        <span class=n>processed_input</span> <span class=o>=</span> <span class=n>do_something</span><span class=p>(</span><span class=nb>input</span><span class=p>)</span>
<a id=__codelineno-37-13 name=__codelineno-37-13 href=#__codelineno-37-13></a>        <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;input&quot;</span><span class=p>:</span> <span class=n>processed_input</span><span class=p>}</span>
</code></pre></div> <p>You may want to design a component so that users of your component can still access the <code>input</code> variable, so they don't have to recompute it.</p> <p>This behavior is called "scoped slots". This is inspired by <a href=https://vuejs.org/guide/components/slots.html#scoped-slots>Vue scoped slots</a> and <a href="https://github.com/Xzya/django-web-components/tree/master?tab=readme-ov-file#scoped-slots">scoped slots of django-web-components</a>.</p> <p>Using scoped slots consists of two steps:</p> <ol> <li>Passing data to <code>slot</code> tag</li> <li>Accessing data in <code>fill</code> tag</li> </ol> <h3 id=accessing-slot-data-in-fill>Accessing slot data in fill<a class=headerlink href=#accessing-slot-data-in-fill title="Permanent link">Â¤</a></h3> <p>Next, we head over to where we define a fill for this slot. Here, to access the slot data we set the <code>data</code> attribute to the name of the variable through which we want to access the slot data. In the example below, we set it to <code>data</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;my_comp&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=x>    </span><span class=cp>{%</span> <span class=k>fill</span> <span class=s2>&quot;content&quot;</span> <span class=nv>data</span><span class=o>=</span><span class=s2>&quot;data&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=x>        </span><span class=cp>{{</span> <span class=nv>data.input</span> <span class=cp>}}</span>
<a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a><span class=x>    </span><span class=cp>{%</span> <span class=k>endfill</span> <span class=cp>%}</span>
<a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <p>To access slot data on a default slot, you have to explictly define the <code>{% fill %}</code> tags.</p> <p>So this works:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;my_comp&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=x>    </span><span class=cp>{%</span> <span class=k>fill</span> <span class=s2>&quot;content&quot;</span> <span class=nv>data</span><span class=o>=</span><span class=s2>&quot;data&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=x>        </span><span class=cp>{{</span> <span class=nv>data.input</span> <span class=cp>}}</span>
<a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=x>    </span><span class=cp>{%</span> <span class=k>endfill</span> <span class=cp>%}</span>
<a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <p>While this does not:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;my_comp&quot;</span> <span class=nv>data</span><span class=o>=</span><span class=s2>&quot;data&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=x>    </span><span class=cp>{{</span> <span class=nv>data.input</span> <span class=cp>}}</span>
<a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <p>Note: You cannot set the <code>data</code> attribute and <a href=..#accessing-original-content-of-slots><code>default</code> attribute)</a> to the same name. This raises an error:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;my_comp&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a><span class=x>    </span><span class=cp>{%</span> <span class=k>fill</span> <span class=s2>&quot;content&quot;</span> <span class=nv>data</span><span class=o>=</span><span class=s2>&quot;slot_var&quot;</span> <span class=nv>default</span><span class=o>=</span><span class=s2>&quot;slot_var&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a><span class=x>        </span><span class=cp>{{</span> <span class=nv>slot_var.input</span> <span class=cp>}}</span>
<a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a><span class=x>    </span><span class=cp>{%</span> <span class=k>endfill</span> <span class=cp>%}</span>
<a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <h2 id=accessing-data-passed-to-the-component>Accessing data passed to the component<a class=headerlink href=#accessing-data-passed-to-the-component title="Permanent link">Â¤</a></h2> <p>When you call <code>Component.render</code> or <code>Component.render_to_response</code>, the inputs to these methods can be accessed from within the instance under <code>self.input</code>.</p> <p>This means that you can use <code>self.input</code> inside: - <code>get_context_data</code> - <code>get_template_name</code> - <code>get_template</code></p> <p><code>self.input</code> is only defined during the execution of <code>Component.render</code>, and raises a <code>RuntimeError</code> when called outside of this context.</p> <p><code>self.input</code> has the same fields as the input to <code>Component.render</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=k>class</span> <span class=nc>TestComponent</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>var1</span><span class=p>,</span> <span class=n>var2</span><span class=p>,</span> <span class=n>variable</span><span class=p>,</span> <span class=n>another</span><span class=p>,</span> <span class=o>**</span><span class=n>attrs</span><span class=p>):</span>
<a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a>        <span class=k>assert</span> <span class=bp>self</span><span class=o>.</span><span class=n>input</span><span class=o>.</span><span class=n>args</span> <span class=o>==</span> <span class=p>(</span><span class=mi>123</span><span class=p>,</span> <span class=s2>&quot;str&quot;</span><span class=p>)</span>
<a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a>        <span class=k>assert</span> <span class=bp>self</span><span class=o>.</span><span class=n>input</span><span class=o>.</span><span class=n>kwargs</span> <span class=o>==</span> <span class=p>{</span><span class=s2>&quot;variable&quot;</span><span class=p>:</span> <span class=s2>&quot;test&quot;</span><span class=p>,</span> <span class=s2>&quot;another&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}</span>
<a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a>        <span class=k>assert</span> <span class=bp>self</span><span class=o>.</span><span class=n>input</span><span class=o>.</span><span class=n>slots</span> <span class=o>==</span> <span class=p>{</span><span class=s2>&quot;my_slot&quot;</span><span class=p>:</span> <span class=s2>&quot;MY_SLOT&quot;</span><span class=p>}</span>
<a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a>        <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>input</span><span class=o>.</span><span class=n>context</span><span class=p>,</span> <span class=n>Context</span><span class=p>)</span>
<a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a>
<a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a>        <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a>            <span class=s2>&quot;variable&quot;</span><span class=p>:</span> <span class=n>variable</span><span class=p>,</span>
<a id=__codelineno-42-10 name=__codelineno-42-10 href=#__codelineno-42-10></a>        <span class=p>}</span>
<a id=__codelineno-42-11 name=__codelineno-42-11 href=#__codelineno-42-11></a>
<a id=__codelineno-42-12 name=__codelineno-42-12 href=#__codelineno-42-12></a><span class=n>rendered</span> <span class=o>=</span> <span class=n>TestComponent</span><span class=o>.</span><span class=n>render</span><span class=p>(</span>
<a id=__codelineno-42-13 name=__codelineno-42-13 href=#__codelineno-42-13></a>    <span class=n>kwargs</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;variable&quot;</span><span class=p>:</span> <span class=s2>&quot;test&quot;</span><span class=p>,</span> <span class=s2>&quot;another&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span>
<a id=__codelineno-42-14 name=__codelineno-42-14 href=#__codelineno-42-14></a>    <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=mi>123</span><span class=p>,</span> <span class=s2>&quot;str&quot;</span><span class=p>),</span>
<a id=__codelineno-42-15 name=__codelineno-42-15 href=#__codelineno-42-15></a>    <span class=n>slots</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;my_slot&quot;</span><span class=p>:</span> <span class=s2>&quot;MY_SLOT&quot;</span><span class=p>},</span>
<a id=__codelineno-42-16 name=__codelineno-42-16 href=#__codelineno-42-16></a><span class=p>)</span>
</code></pre></div> <p>Removing atttributes</p> <p>Attributes that are set to <code>None</code> or <code>False</code> are NOT rendered.</p> <p>So given this input:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=n>attrs</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a>    <span class=s2>&quot;class&quot;</span><span class=p>:</span> <span class=s2>&quot;text-green&quot;</span><span class=p>,</span>
<a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a>    <span class=s2>&quot;required&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a>    <span class=s2>&quot;data-id&quot;</span><span class=p>:</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a><span class=p>}</span>
</code></pre></div> <p>And template:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=x>&lt;div </span><span class=cp>{%</span> <span class=k>html_attrs</span> <span class=nv>attrs</span> <span class=cp>%}</span><span class=x>&gt;</span>
<a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a><span class=x>&lt;/div&gt;</span>
</code></pre></div> <p>Then this renders:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;text-green&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <h2 id=default-attributes>Default attributes<a class=headerlink href=#default-attributes title="Permanent link">Â¤</a></h2> <p>Sometimes you may want to specify default values for attributes. You can pass a second argument (or kwarg <code>defaults</code>) to set the defaults.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=x>&lt;div </span><span class=cp>{%</span> <span class=k>html_attrs</span> <span class=nv>attrs</span> <span class=nv>defaults</span> <span class=cp>%}</span><span class=x>&gt;</span>
<a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a><span class=x>    ...</span>
<a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a><span class=x>&lt;/div&gt;</span>
</code></pre></div> <p>In the example above, if <code>attrs</code> contains e.g. the <code>class</code> key, <code>html_attrs</code> will render:</p> <p><code>class="{{ attrs.class }}"</code></p> <p>Otherwise, <code>html_attrs</code> will render:</p> <p><code>class="{{ defaults.class }}"</code></p> <h2 id=rules-for-html_attrs>Rules for <code>html_attrs</code><a class=headerlink href=#rules-for-html_attrs title="Permanent link">Â¤</a></h2> <ol> <li>Both <code>attrs</code> and <code>defaults</code> can be passed as positional args</li> </ol> <p><code>{% html_attrs attrs defaults key=val %}</code></p> <p>or as kwargs</p> <p><code>{% html_attrs key=val defaults=defaults attrs=attrs %}</code></p> <ol> <li> <p>Both <code>attrs</code> and <code>defaults</code> are optional (can be omitted)</p> </li> <li> <p>Both <code>attrs</code> and <code>defaults</code> are dictionaries, and we can define them the same way <a href=..#pass-dictonary-by-its-key-value-pairs>we define dictionaries for the <code>component</code> tag</a>. So either as <code>attrs=attrs</code> or <code>attrs:key=value</code>.</p> </li> <li> <p>All other kwargs are appended and can be repeated.</p> </li> </ol> <h2 id=full-example-for-html_attrs>Full example for <code>html_attrs</code><a class=headerlink href=#full-example-for-html_attrs title="Permanent link">Â¤</a></h2> <div class=highlight><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;my_comp&quot;</span><span class=p>)</span>
<a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a><span class=k>class</span> <span class=nc>MyComp</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a>    <span class=n>template</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>django_html</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a><span class=s2>        &lt;div</span>
<a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a><span class=s2>            {% html_attrs attrs</span>
<a id=__codelineno-47-6 name=__codelineno-47-6 href=#__codelineno-47-6></a><span class=s2>                defaults:class=&quot;pa-4 text-red&quot;</span>
<a id=__codelineno-47-7 name=__codelineno-47-7 href=#__codelineno-47-7></a><span class=s2>                class=&quot;my-comp-date&quot;</span>
<a id=__codelineno-47-8 name=__codelineno-47-8 href=#__codelineno-47-8></a><span class=s2>                class=class_from_var</span>
<a id=__codelineno-47-9 name=__codelineno-47-9 href=#__codelineno-47-9></a><span class=s2>                data-id=&quot;123&quot;</span>
<a id=__codelineno-47-10 name=__codelineno-47-10 href=#__codelineno-47-10></a><span class=s2>            %}</span>
<a id=__codelineno-47-11 name=__codelineno-47-11 href=#__codelineno-47-11></a><span class=s2>        &gt;</span>
<a id=__codelineno-47-12 name=__codelineno-47-12 href=#__codelineno-47-12></a><span class=s2>            Today&#39;s date is &lt;span&gt;{{ date }}&lt;/span&gt;</span>
<a id=__codelineno-47-13 name=__codelineno-47-13 href=#__codelineno-47-13></a><span class=s2>        &lt;/div&gt;</span>
<a id=__codelineno-47-14 name=__codelineno-47-14 href=#__codelineno-47-14></a><span class=s2>    &quot;&quot;&quot;</span>
<a id=__codelineno-47-15 name=__codelineno-47-15 href=#__codelineno-47-15></a>
<a id=__codelineno-47-16 name=__codelineno-47-16 href=#__codelineno-47-16></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>date</span><span class=p>:</span> <span class=n>Date</span><span class=p>,</span> <span class=n>attrs</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
<a id=__codelineno-47-17 name=__codelineno-47-17 href=#__codelineno-47-17></a>        <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-47-18 name=__codelineno-47-18 href=#__codelineno-47-18></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=n>date</span><span class=p>,</span>
<a id=__codelineno-47-19 name=__codelineno-47-19 href=#__codelineno-47-19></a>            <span class=s2>&quot;attrs&quot;</span><span class=p>:</span> <span class=n>attrs</span><span class=p>,</span>
<a id=__codelineno-47-20 name=__codelineno-47-20 href=#__codelineno-47-20></a>            <span class=s2>&quot;class_from_var&quot;</span><span class=p>:</span> <span class=s2>&quot;extra-class&quot;</span>
<a id=__codelineno-47-21 name=__codelineno-47-21 href=#__codelineno-47-21></a>        <span class=p>}</span>
<a id=__codelineno-47-22 name=__codelineno-47-22 href=#__codelineno-47-22></a>
<a id=__codelineno-47-23 name=__codelineno-47-23 href=#__codelineno-47-23></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;parent&quot;</span><span class=p>)</span>
<a id=__codelineno-47-24 name=__codelineno-47-24 href=#__codelineno-47-24></a><span class=k>class</span> <span class=nc>Parent</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-47-25 name=__codelineno-47-25 href=#__codelineno-47-25></a>    <span class=n>template</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>django_html</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-47-26 name=__codelineno-47-26 href=#__codelineno-47-26></a><span class=s2>        {</span><span class=si>% c</span><span class=s2>omponent &quot;my_comp&quot;</span>
<a id=__codelineno-47-27 name=__codelineno-47-27 href=#__codelineno-47-27></a><span class=s2>            date=date</span>
<a id=__codelineno-47-28 name=__codelineno-47-28 href=#__codelineno-47-28></a><span class=s2>            attrs:class=&quot;pa-0 border-solid border-red&quot;</span>
<a id=__codelineno-47-29 name=__codelineno-47-29 href=#__codelineno-47-29></a><span class=s2>            attrs:data-json=json_data</span>
<a id=__codelineno-47-30 name=__codelineno-47-30 href=#__codelineno-47-30></a><span class=s2>            attrs:@click=&quot;(e) =&gt; onClick(e, &#39;from_parent&#39;)&quot;</span>
<a id=__codelineno-47-31 name=__codelineno-47-31 href=#__codelineno-47-31></a><span class=s2>        / %}</span>
<a id=__codelineno-47-32 name=__codelineno-47-32 href=#__codelineno-47-32></a><span class=s2>    &quot;&quot;&quot;</span>
<a id=__codelineno-47-33 name=__codelineno-47-33 href=#__codelineno-47-33></a>
<a id=__codelineno-47-34 name=__codelineno-47-34 href=#__codelineno-47-34></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>date</span><span class=p>:</span> <span class=n>Date</span><span class=p>):</span>
<a id=__codelineno-47-35 name=__codelineno-47-35 href=#__codelineno-47-35></a>        <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-47-36 name=__codelineno-47-36 href=#__codelineno-47-36></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(),</span>
<a id=__codelineno-47-37 name=__codelineno-47-37 href=#__codelineno-47-37></a>            <span class=s2>&quot;json_data&quot;</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span><span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=mi>456</span><span class=p>})</span>
<a id=__codelineno-47-38 name=__codelineno-47-38 href=#__codelineno-47-38></a>        <span class=p>}</span>
</code></pre></div> <p>Note: For readability, we've split the tags across multiple lines.</p> <p>Inside <code>MyComp</code>, we defined a default attribute</p> <p><code>defaults:class="pa-4 text-red"</code></p> <p>So if <code>attrs</code> includes key <code>class</code>, the default above will be ignored.</p> <p><code>MyComp</code> also defines <code>class</code> key twice. It means that whether the <code>class</code> attribute is taken from <code>attrs</code> or <code>defaults</code>, the two <code>class</code> values will be appended to it.</p> <p>So by default, <code>MyComp</code> renders:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;pa-4 text-red my-comp-date extra-class&quot;</span> <span class=na>data-id</span><span class=o>=</span><span class=s>&quot;123&quot;</span><span class=p>&gt;</span>...<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>Next, let's consider what will be rendered when we call <code>MyComp</code> from <code>Parent</code> component.</p> <p><code>MyComp</code> accepts a <code>attrs</code> dictionary, that is passed to <code>html_attrs</code>, so the contents of that dictionary are rendered as the HTML attributes.</p> <p>In <code>Parent</code>, we make use of passing dictionary key-value pairs as kwargs to define individual attributes as if they were regular kwargs.</p> <p>So all kwargs that start with <code>attrs:</code> will be collected into an <code>attrs</code> dict.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a><span class=x>    attrs:class=&quot;pa-0 border-solid border-red&quot;</span>
<a id=__codelineno-49-2 name=__codelineno-49-2 href=#__codelineno-49-2></a><span class=x>    attrs:data-json=json_data</span>
<a id=__codelineno-49-3 name=__codelineno-49-3 href=#__codelineno-49-3></a><span class=x>    attrs:@click=&quot;(e) =&gt; onClick(e, &#39;from_parent&#39;)&quot;</span>
</code></pre></div> <p>And <code>get_context_data</code> of <code>MyComp</code> will receive <code>attrs</code> input with following keys:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=n>attrs</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a>    <span class=s2>&quot;class&quot;</span><span class=p>:</span> <span class=s2>&quot;pa-0 border-solid&quot;</span><span class=p>,</span>
<a id=__codelineno-50-3 name=__codelineno-50-3 href=#__codelineno-50-3></a>    <span class=s2>&quot;data-json&quot;</span><span class=p>:</span> <span class=s1>&#39;{&quot;value&quot;: 456}&#39;</span><span class=p>,</span>
<a id=__codelineno-50-4 name=__codelineno-50-4 href=#__codelineno-50-4></a>    <span class=s2>&quot;@click&quot;</span><span class=p>:</span> <span class=s2>&quot;(e) =&gt; onClick(e, &#39;from_parent&#39;)&quot;</span><span class=p>,</span>
<a id=__codelineno-50-5 name=__codelineno-50-5 href=#__codelineno-50-5></a><span class=p>}</span>
</code></pre></div> <p><code>attrs["class"]</code> overrides the default value for <code>class</code>, whereas other keys will be merged.</p> <p>So in the end <code>MyComp</code> will render:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=p>&lt;</span><span class=nt>div</span>
<a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a>  <span class=na>class</span><span class=o>=</span><span class=s>&quot;pa-0 border-solid my-comp-date extra-class&quot;</span>
<a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a>  <span class=na>data-id</span><span class=o>=</span><span class=s>&quot;123&quot;</span>
<a id=__codelineno-51-4 name=__codelineno-51-4 href=#__codelineno-51-4></a>  <span class=na>data-json</span><span class=o>=</span><span class=s>&#39;{&quot;value&quot;: 456}&#39;</span>
<a id=__codelineno-51-5 name=__codelineno-51-5 href=#__codelineno-51-5></a>  <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&quot;(e) =&gt; onClick(e, &#39;from_parent&#39;)&quot;</span>
<a id=__codelineno-51-6 name=__codelineno-51-6 href=#__codelineno-51-6></a><span class=p>&gt;</span>
<a id=__codelineno-51-7 name=__codelineno-51-7 href=#__codelineno-51-7></a>  ...
<a id=__codelineno-51-8 name=__codelineno-51-8 href=#__codelineno-51-8></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <h2 id=template-tag-syntax>Template tag syntax<a class=headerlink href=#template-tag-syntax title="Permanent link">Â¤</a></h2> <p>All template tags in django_component, like <code>{% component %}</code> or <code>{% slot %}</code>, and so on, support extra syntax that makes it possible to write components like in Vue or React (JSX).</p> <h2 id=special-characters>Special characters<a class=headerlink href=#special-characters title="Permanent link">Â¤</a></h2> <p><em>New in version 0.71</em>:</p> <p>Keyword arguments can contain special characters <code># @ . - _</code>, so keywords like so are still valid:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=x>&lt;body&gt;</span>
<a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a><span class=x>    </span><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar&quot;</span> <span class=nv>my-date</span><span class=o>=</span><span class=s2>&quot;2015-06-19&quot;</span> <span class=p>@</span><span class=nv>click.native</span><span class=o>=</span><span class=nv>do_something</span> <span class=p>#</span><span class=nv>some_id</span><span class=o>=</span><span class=kp>True</span> <span class=o>/</span> <span class=cp>%}</span>
<a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a><span class=x>&lt;/body&gt;</span>
</code></pre></div> <p>These can then be accessed inside <code>get_context_data</code> so:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;calendar&quot;</span><span class=p>)</span>
<a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a><span class=k>class</span> <span class=nc>Calendar</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a>    <span class=c1># Since # . @ - are not valid identifiers, we have to</span>
<a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a>    <span class=c1># use `**kwargs` so the method can accept these args.</span>
<a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a>        <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;my-date&quot;</span><span class=p>],</span>
<a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a>            <span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;#some_id&quot;</span><span class=p>],</span>
<a id=__codelineno-53-9 name=__codelineno-53-9 href=#__codelineno-53-9></a>            <span class=s2>&quot;on_click&quot;</span><span class=p>:</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;@click.native&quot;</span><span class=p>]</span>
<a id=__codelineno-53-10 name=__codelineno-53-10 href=#__codelineno-53-10></a>        <span class=p>}</span>
</code></pre></div> <h2 id=use-template-tags-inside-component-inputs>Use template tags inside component inputs<a class=headerlink href=#use-template-tags-inside-component-inputs title="Permanent link">Â¤</a></h2> <p><em>New in version 0.93</em></p> <p>When passing data around, sometimes you may need to do light transformations, like negating booleans or filtering lists.</p> <p>Normally, what you would have to do is to define ALL the variables inside <code>get_context_data()</code>. But this can get messy if your components contain a lot of logic.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;calendar&quot;</span><span class=p>)</span>
<a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a><span class=k>class</span> <span class=nc>Calendar</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>editable</span><span class=p>:</span> <span class=nb>bool</span><span class=p>):</span>
<a id=__codelineno-54-4 name=__codelineno-54-4 href=#__codelineno-54-4></a>        <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-54-5 name=__codelineno-54-5 href=#__codelineno-54-5></a>            <span class=s2>&quot;editable&quot;</span><span class=p>:</span> <span class=n>editable</span><span class=p>,</span>
<a id=__codelineno-54-6 name=__codelineno-54-6 href=#__codelineno-54-6></a>            <span class=s2>&quot;readonly&quot;</span><span class=p>:</span> <span class=ow>not</span> <span class=n>editable</span><span class=p>,</span>
<a id=__codelineno-54-7 name=__codelineno-54-7 href=#__codelineno-54-7></a>            <span class=s2>&quot;input_id&quot;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;input-</span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-54-8 name=__codelineno-54-8 href=#__codelineno-54-8></a>            <span class=s2>&quot;icon_id&quot;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;icon-</span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-54-9 name=__codelineno-54-9 href=#__codelineno-54-9></a>            <span class=o>...</span>
<a id=__codelineno-54-10 name=__codelineno-54-10 href=#__codelineno-54-10></a>        <span class=p>}</span>
</code></pre></div> <p>Instead, template tags in django_components (<code>{% component %}</code>, <code>{% slot %}</code>, <code>{% provide %}</code>, etc) allow you to treat literal string values as templates:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s1>&#39;blog_post&#39;</span>
<a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a>  <span class=s2>&quot;As positional arg {# yay #}&quot;</span>
<a id=__codelineno-55-3 name=__codelineno-55-3 href=#__codelineno-55-3></a>  <span class=nv>title</span><span class=o>=</span><span class=s2>&quot;{{ person.first_name }} {{ person.last_name }}&quot;</span>
<a id=__codelineno-55-4 name=__codelineno-55-4 href=#__codelineno-55-4></a>  <span class=nv>id</span><span class=o>=</span><span class=s2>&quot;{% random_int 10 20 %}&quot;</span>
<a id=__codelineno-55-5 name=__codelineno-55-5 href=#__codelineno-55-5></a>  <span class=nv>readonly</span><span class=o>=</span><span class=s2>&quot;{{ editable|not }}&quot;</span>
<a id=__codelineno-55-6 name=__codelineno-55-6 href=#__codelineno-55-6></a>  <span class=nv>author</span><span class=o>=</span><span class=s2>&quot;John Wick {# TODO: parametrize #}&quot;</span>
<a id=__codelineno-55-7 name=__codelineno-55-7 href=#__codelineno-55-7></a><span class=o>/</span> <span class=cp>%}</span>
</code></pre></div> <p>In the example above: - Component <code>test</code> receives a positional argument with value <code>"As positional arg "</code>. The comment is omitted. - Kwarg <code>title</code> is passed as a string, e.g. <code>John Doe</code> - Kwarg <code>id</code> is passed as <code>int</code>, e.g. <code>15</code> - Kwarg <code>readonly</code> is passed as <code>bool</code>, e.g. <code>False</code> - Kwarg <code>author</code> is passed as a string, e.g. <code>John Wick</code> (Comment omitted)</p> <p>This is inspired by <a href=https://github.com/wrabit/django-cotton#template-expressions-in-attributes>django-cotton</a>.</p> <h3 id=evaluating-python-expressions-in-template>Evaluating Python expressions in template<a class=headerlink href=#evaluating-python-expressions-in-template title="Permanent link">Â¤</a></h3> <p>You can even go a step further and have a similar experience to Vue or React, where you can evaluate arbitrary code expressions:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=p>&lt;</span><span class=nt>MyForm</span>
<a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a><span class=w>  </span><span class=na>value</span><span class=o>=</span><span class=p>{</span><span class=w> </span><span class=nx>isEnabled</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=nx>inputValue</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=p>}</span>
<a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a><span class=p>/&gt;</span>
</code></pre></div> <p>Similar is possible with <a href=https://pypi.org/project/django-expr/ ><code>django-expr</code></a>, which adds an <code>expr</code> tag and filter that you can use to evaluate Python expressions from within the template:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;my_form&quot;</span>
<a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>  <span class=nv>value</span><span class=o>=</span><span class=s2>&quot;{% expr &#39;input_value if is_enabled else None&#39; %}&quot;</span>
<a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a><span class=o>/</span> <span class=cp>%}</span>
</code></pre></div> <blockquote> <p>Note: Never use this feature to mix business logic and template logic. Business logic should still be in the view!</p> </blockquote> <h2 id=multi-line-tags>Multi-line tags<a class=headerlink href=#multi-line-tags title="Permanent link">Â¤</a></h2> <p>By default, Django expects a template tag to be defined on a single line.</p> <p>However, this can become unwieldy if you have a component with a lot of inputs:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;card&quot;</span> <span class=nv>title</span><span class=o>=</span><span class=s2>&quot;Joanne Arc&quot;</span> <span class=nv>subtitle</span><span class=o>=</span><span class=s2>&quot;Head of Kitty Relations&quot;</span> <span class=nv>date_last_active</span><span class=o>=</span><span class=s2>&quot;2024-09-03&quot;</span> <span class=p>...</span> <span class=cp>%}</span>
</code></pre></div> <p>Instead, when you install django_components, it automatically configures Django to suport multi-line tags.</p> <p>So we can rewrite the above as:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;card&quot;</span>
<a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a>    <span class=nv>title</span><span class=o>=</span><span class=s2>&quot;Joanne Arc&quot;</span>
<a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a>    <span class=nv>subtitle</span><span class=o>=</span><span class=s2>&quot;Head of Kitty Relations&quot;</span>
<a id=__codelineno-59-4 name=__codelineno-59-4 href=#__codelineno-59-4></a>    <span class=nv>date_last_active</span><span class=o>=</span><span class=s2>&quot;2024-09-03&quot;</span>
<a id=__codelineno-59-5 name=__codelineno-59-5 href=#__codelineno-59-5></a>    <span class=p>...</span>
<a id=__codelineno-59-6 name=__codelineno-59-6 href=#__codelineno-59-6></a><span class=cp>%}</span>
</code></pre></div> <p>Much better!</p> <p>To disable this behavior, set <a href=..#multiline_tags---enabledisable-multiline-support><code>COMPONENTS.multiline_tag</code></a> to <code>False</code></p> <p>What is "dependency injection" and "prop drilling"?</p> <p>Prop drilling refers to a scenario in UI development where you need to pass data through many layers of a component tree to reach the nested components that actually need the data.</p> <p>Normally, you'd use props to send data from a parent component to its children. However, this straightforward method becomes cumbersome and inefficient if the data has to travel through many levels or if several components scattered at different depths all need the same piece of information.</p> <p>This results in a situation where the intermediate components, which don't need the data for their own functioning, end up having to manage and pass along these props. This clutters the component tree and makes the code verbose and harder to manage.</p> <p>A neat solution to avoid prop drilling is using the "provide and inject" technique, AKA dependency injection.</p> <p>With dependency injection, a parent component acts like a data hub for all its descendants. This setup allows any component, no matter how deeply nested it is, to access the required data directly from this centralized provider without having to messily pass props down the chain. This approach significantly cleans up the code and makes it easier to maintain.</p> <p>This feature is inspired by Vue's <a href=https://vuejs.org/guide/components/provide-inject>Provide / Inject</a> and React's <a href=https://react.dev/learn/passing-data-deeply-with-context>Context / useContext</a>.</p> <h2 id=using-provide-tag>Using <code>{% provide %}</code> tag<a class=headerlink href=#using-provide-tag title="Permanent link">Â¤</a></h2> <p>First we use the <code>{% provide %}</code> tag to define the data we want to "provide" (make available).</p> <div class=highlight><pre><span></span><code><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=cp>{%</span> <span class=k>provide</span> <span class=s2>&quot;my_data&quot;</span> <span class=nv>key</span><span class=o>=</span><span class=s2>&quot;hi&quot;</span> <span class=nv>another</span><span class=o>=</span><span class=m>123</span> <span class=cp>%}</span>
<a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a><span class=x>    </span><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;child&quot;</span> <span class=o>/</span> <span class=cp>%}</span><span class=x>  &lt;--- Can access &quot;my_data&quot;</span>
<a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=cp>{%</span> <span class=k>endprovide</span> <span class=cp>%}</span>
<a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a>
<a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;child&quot;</span> <span class=o>/</span> <span class=cp>%}</span><span class=x>  &lt;--- Cannot access &quot;my_data&quot;</span>
</code></pre></div> <p>Notice that the <code>provide</code> tag REQUIRES a name as a first argument. This is the <em>key</em> by which we can then access the data passed to this tag.</p> <p><code>provide</code> tag name must resolve to a valid identifier (AKA a valid Python variable name).</p> <p>Once you've set the name, you define the data you want to "provide" by passing it as keyword arguments. This is similar to how you pass data to the <code>{% with %}</code> tag.</p> <blockquote> <p>NOTE: Kwargs passed to <code>{% provide %}</code> are NOT added to the context. In the example below, the <code>{{ key }}</code> won't render anything:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=cp>{%</span> <span class=k>provide</span> <span class=s2>&quot;my_data&quot;</span> <span class=nv>key</span><span class=o>=</span><span class=s2>&quot;hi&quot;</span> <span class=nv>another</span><span class=o>=</span><span class=m>123</span> <span class=cp>%}</span>
<a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a><span class=x>    </span><span class=cp>{{</span> <span class=nv>key</span> <span class=cp>}}</span>
<a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a><span class=cp>{%</span> <span class=k>endprovide</span> <span class=cp>%}</span>
</code></pre></div> </blockquote> <p>Similarly to <a href=..#dynamic-slots-and-fills>slots and fills</a>, also provide's name argument can be set dynamically via a variable, a template expression, or a spread operator:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=cp>{%</span> <span class=k>provide</span> <span class=nv>name</span><span class=o>=</span><span class=nv>name</span> <span class=p>...</span> <span class=cp>%}</span>
<a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a><span class=x>    ...</span>
<a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a><span class=cp>{%</span> <span class=k>provide</span> <span class=cp>%}</span>
<a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a><span class=x>&lt;/table&gt;</span>
</code></pre></div> <h2 id=full-example>Full example<a class=headerlink href=#full-example title="Permanent link">Â¤</a></h2> <div class=highlight><pre><span></span><code><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;child&quot;</span><span class=p>)</span>
<a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a><span class=k>class</span> <span class=nc>ChildComponent</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a>    <span class=n>template</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a><span class=s2>        &lt;div&gt; {{ my_data.key }} &lt;/div&gt;</span>
<a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a><span class=s2>        &lt;div&gt; {{ my_data.another }} &lt;/div&gt;</span>
<a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a><span class=s2>    &quot;&quot;&quot;</span>
<a id=__codelineno-63-7 name=__codelineno-63-7 href=#__codelineno-63-7></a>
<a id=__codelineno-63-8 name=__codelineno-63-8 href=#__codelineno-63-8></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a id=__codelineno-63-9 name=__codelineno-63-9 href=#__codelineno-63-9></a>        <span class=n>my_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>inject</span><span class=p>(</span><span class=s2>&quot;my_data&quot;</span><span class=p>,</span> <span class=s2>&quot;default&quot;</span><span class=p>)</span>
<a id=__codelineno-63-10 name=__codelineno-63-10 href=#__codelineno-63-10></a>        <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;my_data&quot;</span><span class=p>:</span> <span class=n>my_data</span><span class=p>}</span>
<a id=__codelineno-63-11 name=__codelineno-63-11 href=#__codelineno-63-11></a>
<a id=__codelineno-63-12 name=__codelineno-63-12 href=#__codelineno-63-12></a><span class=n>template_str</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-63-13 name=__codelineno-63-13 href=#__codelineno-63-13></a><span class=s2>    {</span><span class=si>% lo</span><span class=s2>ad component_tags %}</span>
<a id=__codelineno-63-14 name=__codelineno-63-14 href=#__codelineno-63-14></a><span class=s2>    {% provide &quot;my_data&quot; key=&quot;hi&quot; another=123 %}</span>
<a id=__codelineno-63-15 name=__codelineno-63-15 href=#__codelineno-63-15></a><span class=s2>        {</span><span class=si>% c</span><span class=s2>omponent &quot;child&quot; / %}</span>
<a id=__codelineno-63-16 name=__codelineno-63-16 href=#__codelineno-63-16></a><span class=s2>    {</span><span class=si>% e</span><span class=s2>ndprovide %}</span>
<a id=__codelineno-63-17 name=__codelineno-63-17 href=#__codelineno-63-17></a><span class=s2>&quot;&quot;&quot;</span>
</code></pre></div> <p>renders:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>hi<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>123<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>Available hooks</p> <ul> <li><code>on_render_before</code></li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=k>def</span> <span class=nf>on_render_before</span><span class=p>(</span>
<a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a>    <span class=bp>self</span><span class=p>:</span> <span class=n>Component</span><span class=p>,</span>
<a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a>    <span class=n>context</span><span class=p>:</span> <span class=n>Context</span><span class=p>,</span>
<a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a>    <span class=n>template</span><span class=p>:</span> <span class=n>Template</span>
<a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=n>Hook</span><span class=w> </span><span class=n>that</span><span class=w> </span><span class=n>runs</span><span class=w> </span><span class=n>just</span><span class=w> </span><span class=kr>before</span><span class=w> </span><span class=n>the</span><span class=w> </span><span class=n>component</span><span class=s>&#39;s template is rendered.</span>

<span class=s>You can use this hook to access or modify the context or the template:</span>

<span class=s>```py</span>
<span class=s>def on_render_before(self, context, template) -&gt; None:</span>
<span class=s>    # Insert value into the Context</span>
<span class=s>    context[&quot;</span><span class=n>from_on_before</span><span class=s>&quot;] = &quot;</span><span class=o>:</span><span class=p>)</span><span class=s>&quot;</span>

<span class=s>    # Append text into the Template</span>
<span class=s>    template.nodelist.append(TextNode(&quot;</span><span class=n>FROM_ON_BEFORE</span><span class=s>&quot;))</span>
<span class=s>```</span>
</code></pre></div> <ul> <li><code>on_render_after</code></li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=k>def</span> <span class=nf>on_render_after</span><span class=p>(</span>
<a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a>    <span class=bp>self</span><span class=p>:</span> <span class=n>Component</span><span class=p>,</span>
<a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a>    <span class=n>context</span><span class=p>:</span> <span class=n>Context</span><span class=p>,</span>
<a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a>    <span class=n>template</span><span class=p>:</span> <span class=n>Template</span><span class=p>,</span>
<a id=__codelineno-67-5 name=__codelineno-67-5 href=#__codelineno-67-5></a>    <span class=n>content</span><span class=p>:</span> <span class=nb>str</span>
<a id=__codelineno-67-6 name=__codelineno-67-6 href=#__codelineno-67-6></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span> <span class=o>|</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>SafeString</span><span class=p>:</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Hook that runs just after the component&#39;s template was rendered.
It receives the rendered output as the last argument.

You can use this hook to access the context or the template, but modifying
them won&#39;t have any effect.

To override the content that gets rendered, you can return a string or SafeString from this hook:

```py
def on_render_after(self, context, template, content):
    # Prepend text to the rendered content
    return &quot;Chocolate cookie recipe: &quot; + content
```
</code></pre></div> <h2 id=component-context-and-scope>Component context and scope<a class=headerlink href=#component-context-and-scope title="Permanent link">Â¤</a></h2> <p>By default, context variables are passed down the template as in regular Django - deeper scopes can access the variables from the outer scopes. So if you have several nested forloops, then inside the deep-most loop you can access variables defined by all previous loops.</p> <p>With this in mind, the <code>{% component %}</code> tag behaves similarly to <code>{% include %}</code> tag - inside the component tag, you can access all variables that were defined outside of it.</p> <p>And just like with <code>{% include %}</code>, if you don't want a specific component template to have access to the parent context, add <code>only</code> to the <code>{% component %}</code> tag:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;calendar&quot;</span> <span class=nv>date</span><span class=o>=</span><span class=s2>&quot;2015-06-19&quot;</span> <span class=nv>only</span> <span class=o>/</span> <span class=cp>%}</span>
</code></pre></div> <p>NOTE: <code>{% csrf_token %}</code> tags need access to the top-level context, and they will not function properly if they are rendered in a component that is called with the <code>only</code> modifier.</p> <p>If you find yourself using the <code>only</code> modifier often, you can set the <a href=..#context-behavior>context_behavior</a> option to <code>"isolated"</code>, which automatically applies the <code>only</code> modifier. This is useful if you want to make sure that components don't accidentally access the outer context.</p> <p>Components can also access the outer context in their context methods like <code>get_context_data</code> by accessing the property <code>self.outer_context</code>.</p> <p>Customizing component tags with TagFormatter</p> <p><em>New in version 0.89</em></p> <p>By default, components are rendered using the pair of <code>{% component %}</code> / <code>{% endcomponent %}</code> template tags:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;button&quot;</span> <span class=nv>href</span><span class=o>=</span><span class=s2>&quot;...&quot;</span> <span class=nv>disabled</span> <span class=cp>%}</span>
<a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a><span class=x>Click me!</span>
<a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
<a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a>
<a id=__codelineno-70-5 name=__codelineno-70-5 href=#__codelineno-70-5></a><span class=c>{# or #}</span>
<a id=__codelineno-70-6 name=__codelineno-70-6 href=#__codelineno-70-6></a>
<a id=__codelineno-70-7 name=__codelineno-70-7 href=#__codelineno-70-7></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;button&quot;</span> <span class=nv>href</span><span class=o>=</span><span class=s2>&quot;...&quot;</span> <span class=nv>disabled</span> <span class=o>/</span> <span class=cp>%}</span>
</code></pre></div> <p>You can change this behaviour in the settings under the <a href=..#tag-formatter-setting><code>COMPONENTS.tag_formatter</code></a>.</p> <p>For example, if you set the tag formatter to <code>django_components.shorthand_component_formatter</code>, the components will use their name as the template tags:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=cp>{%</span> <span class=k>button</span> <span class=nv>href</span><span class=o>=</span><span class=s2>&quot;...&quot;</span> <span class=nv>disabled</span> <span class=cp>%}</span>
<a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a><span class=x>  Click me!</span>
<a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a><span class=cp>{%</span> <span class=k>endbutton</span> <span class=cp>%}</span>
<a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a>
<a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a><span class=c>{# or #}</span>
<a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a>
<a id=__codelineno-71-7 name=__codelineno-71-7 href=#__codelineno-71-7></a><span class=cp>{%</span> <span class=k>button</span> <span class=nv>href</span><span class=o>=</span><span class=s2>&quot;...&quot;</span> <span class=nv>disabled</span> <span class=o>/</span> <span class=cp>%}</span>
</code></pre></div> <h2 id=writing-your-own-tagformatter>Writing your own TagFormatter<a class=headerlink href=#writing-your-own-tagformatter title="Permanent link">Â¤</a></h2> <h3 id=tagformatter>TagFormatter<a class=headerlink href=#tagformatter title="Permanent link">Â¤</a></h3> <p><code>TagFormatter</code> handles following parts of the process above: - Generates start/end tags, given a component. This is what you then call from within your template as <code>{% component %}</code>.</p> <ul> <li>When you <code>{% component %}</code>, tag formatter pre-processes the tag contents, so it can link back the custom template tag to the right component.</li> </ul> <p>To do so, subclass from <code>TagFormatterABC</code> and implement following method: - <code>start_tag</code> - <code>end_tag</code> - <code>parse</code></p> <p>For example, this is the implementation of <a href=..#available-tagformatters><code>ShorthandComponentFormatter</code></a></p> <div class=highlight><pre><span></span><code><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=k>class</span> <span class=nc>ShorthandComponentFormatter</span><span class=p>(</span><span class=n>TagFormatterABC</span><span class=p>):</span>
<a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a>    <span class=c1># Given a component name, generate the start template tag</span>
<a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a>    <span class=k>def</span> <span class=nf>start_tag</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a>        <span class=k>return</span> <span class=n>name</span>  <span class=c1># e.g. &#39;button&#39;</span>
<a id=__codelineno-72-5 name=__codelineno-72-5 href=#__codelineno-72-5></a>
<a id=__codelineno-72-6 name=__codelineno-72-6 href=#__codelineno-72-6></a>    <span class=c1># Given a component name, generate the start template tag</span>
<a id=__codelineno-72-7 name=__codelineno-72-7 href=#__codelineno-72-7></a>    <span class=k>def</span> <span class=nf>end_tag</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-72-8 name=__codelineno-72-8 href=#__codelineno-72-8></a>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;end</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span>  <span class=c1># e.g. &#39;endbutton&#39;</span>
<a id=__codelineno-72-9 name=__codelineno-72-9 href=#__codelineno-72-9></a>
<a id=__codelineno-72-10 name=__codelineno-72-10 href=#__codelineno-72-10></a>    <span class=c1># Given a tag, e.g.</span>
<a id=__codelineno-72-11 name=__codelineno-72-11 href=#__codelineno-72-11></a>    <span class=c1># `{% button href=&quot;...&quot; disabled %}`</span>
<a id=__codelineno-72-12 name=__codelineno-72-12 href=#__codelineno-72-12></a>    <span class=c1>#</span>
<a id=__codelineno-72-13 name=__codelineno-72-13 href=#__codelineno-72-13></a>    <span class=c1># The parser receives:</span>
<a id=__codelineno-72-14 name=__codelineno-72-14 href=#__codelineno-72-14></a>    <span class=c1># `[&#39;button&#39;, &#39;href=&quot;...&quot;&#39;, &#39;disabled&#39;]`</span>
<a id=__codelineno-72-15 name=__codelineno-72-15 href=#__codelineno-72-15></a>    <span class=k>def</span> <span class=nf>parse</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tokens</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>TagResult</span><span class=p>:</span>
<a id=__codelineno-72-16 name=__codelineno-72-16 href=#__codelineno-72-16></a>        <span class=n>tokens</span> <span class=o>=</span> <span class=p>[</span><span class=o>*</span><span class=n>tokens</span><span class=p>]</span>
<a id=__codelineno-72-17 name=__codelineno-72-17 href=#__codelineno-72-17></a>        <span class=n>name</span> <span class=o>=</span> <span class=n>tokens</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-72-18 name=__codelineno-72-18 href=#__codelineno-72-18></a>        <span class=k>return</span> <span class=n>TagResult</span><span class=p>(</span>
<a id=__codelineno-72-19 name=__codelineno-72-19 href=#__codelineno-72-19></a>            <span class=n>name</span><span class=p>,</span>  <span class=c1># e.g. &#39;button&#39;</span>
<a id=__codelineno-72-20 name=__codelineno-72-20 href=#__codelineno-72-20></a>            <span class=n>tokens</span>  <span class=c1># e.g. [&#39;href=&quot;...&quot;&#39;, &#39;disabled&#39;]</span>
<a id=__codelineno-72-21 name=__codelineno-72-21 href=#__codelineno-72-21></a>        <span class=p>)</span>
</code></pre></div> <p>That's it! And once your <code>TagFormatter</code> is ready, don't forget to update the settings!</p> <p>Defining file paths relative to component or static dirs</p> <p>As seen in the <a href=..#create-your-first-component>getting started example</a>, to associate HTML/JS/CSS files with a component, you set them as <code>template_name</code>, <code>Media.js</code> and <code>Media.css</code> respectively:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=c1># In a file [project root]/components/calendar/calendar.py</span>
<a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>Component</span><span class=p>,</span> <span class=n>register</span>
<a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a>
<a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;calendar&quot;</span><span class=p>)</span>
<a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a><span class=k>class</span> <span class=nc>Calendar</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a>    <span class=n>template_name</span> <span class=o>=</span> <span class=s2>&quot;template.html&quot;</span>
<a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a>
<a id=__codelineno-73-8 name=__codelineno-73-8 href=#__codelineno-73-8></a>    <span class=k>class</span> <span class=nc>Media</span><span class=p>:</span>
<a id=__codelineno-73-9 name=__codelineno-73-9 href=#__codelineno-73-9></a>        <span class=n>css</span> <span class=o>=</span> <span class=s2>&quot;style.css&quot;</span>
<a id=__codelineno-73-10 name=__codelineno-73-10 href=#__codelineno-73-10></a>        <span class=n>js</span> <span class=o>=</span> <span class=s2>&quot;script.js&quot;</span>
</code></pre></div> <p>In the example above, the files are defined relative to the directory where <code>component.py</code> is.</p> <p>Alternatively, you can specify the file paths relative to the directories set in <code>COMPONENTS.dirs</code> or <code>COMPONENTS.app_dirs</code>.</p> <p>Assuming that <code>COMPONENTS.dirs</code> contains path <code>[project root]/components</code>, we can rewrite the example as:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a><span class=c1># In a file [project root]/components/calendar/calendar.py</span>
<a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>Component</span><span class=p>,</span> <span class=n>register</span>
<a id=__codelineno-74-3 name=__codelineno-74-3 href=#__codelineno-74-3></a>
<a id=__codelineno-74-4 name=__codelineno-74-4 href=#__codelineno-74-4></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;calendar&quot;</span><span class=p>)</span>
<a id=__codelineno-74-5 name=__codelineno-74-5 href=#__codelineno-74-5></a><span class=k>class</span> <span class=nc>Calendar</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-74-6 name=__codelineno-74-6 href=#__codelineno-74-6></a>    <span class=n>template_name</span> <span class=o>=</span> <span class=s2>&quot;calendar/template.html&quot;</span>
<a id=__codelineno-74-7 name=__codelineno-74-7 href=#__codelineno-74-7></a>
<a id=__codelineno-74-8 name=__codelineno-74-8 href=#__codelineno-74-8></a>    <span class=k>class</span> <span class=nc>Media</span><span class=p>:</span>
<a id=__codelineno-74-9 name=__codelineno-74-9 href=#__codelineno-74-9></a>        <span class=n>css</span> <span class=o>=</span> <span class=s2>&quot;calendar/style.css&quot;</span>
<a id=__codelineno-74-10 name=__codelineno-74-10 href=#__codelineno-74-10></a>        <span class=n>js</span> <span class=o>=</span> <span class=s2>&quot;calendar/script.js&quot;</span>
</code></pre></div> <p>NOTE: In case of conflict, the preference goes to resolving the files relative to the component's directory.</p> <h2 id=configuring-css-media-types>Configuring CSS Media Types<a class=headerlink href=#configuring-css-media-types title="Permanent link">Â¤</a></h2> <p>You can define which stylesheets will be associated with which <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_media_queries/Using_media_queries#targeting_media_types>CSS Media types</a>. You do so by defining CSS files as a dictionary.</p> <p>See the corresponding <a href=https://docs.djangoproject.com/en/5.0/topics/forms/media/#css>Django Documentation</a>.</p> <p>Again, you can set either a single file or a list of files per media type:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=k>class</span> <span class=nc>MyComponent</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a>    <span class=k>class</span> <span class=nc>Media</span><span class=p>:</span>
<a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a>        <span class=n>css</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-75-4 name=__codelineno-75-4 href=#__codelineno-75-4></a>            <span class=s2>&quot;all&quot;</span><span class=p>:</span> <span class=s2>&quot;path/to/style1.css&quot;</span><span class=p>,</span>
<a id=__codelineno-75-5 name=__codelineno-75-5 href=#__codelineno-75-5></a>            <span class=s2>&quot;print&quot;</span><span class=p>:</span> <span class=s2>&quot;path/to/style2.css&quot;</span><span class=p>,</span>
<a id=__codelineno-75-6 name=__codelineno-75-6 href=#__codelineno-75-6></a>        <span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=k>class</span> <span class=nc>MyComponent</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a>    <span class=k>class</span> <span class=nc>Media</span><span class=p>:</span>
<a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a>        <span class=n>css</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a>            <span class=s2>&quot;all&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;path/to/style1.css&quot;</span><span class=p>,</span> <span class=s2>&quot;path/to/style2.css&quot;</span><span class=p>],</span>
<a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a>            <span class=s2>&quot;print&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;path/to/style3.css&quot;</span><span class=p>,</span> <span class=s2>&quot;path/to/style4.css&quot;</span><span class=p>],</span>
<a id=__codelineno-76-6 name=__codelineno-76-6 href=#__codelineno-76-6></a>        <span class=p>}</span>
</code></pre></div> <p>NOTE: When you define CSS as a string or a list, the <code>all</code> media type is implied.</p> <h2 id=path-as-objects>Path as objects<a class=headerlink href=#path-as-objects title="Permanent link">Â¤</a></h2> <p>In the example <a href=..#supported-types-for-file-paths>above</a>, you could see that when we used <code>mark_safe</code> to mark a string as a <code>SafeString</code>, we had to define the full <code>&lt;script&gt;</code>/<code>&lt;link&gt;</code> tag.</p> <p>This is an extension of Django's <a href=https://docs.djangoproject.com/en/5.0/topics/forms/media/#paths-as-objects>Paths as objects</a> feature, where "safe" strings are taken as is, and accessed only at render time.</p> <p>Because of that, the paths defined as "safe" strings are NEVER resolved, neither relative to component's directory, nor relative to <code>COMPONENTS.dirs</code>.</p> <p>"Safe" strings can be used to lazily resolve a path, or to customize the <code>&lt;script&gt;</code> or <code>&lt;link&gt;</code> tag for individual paths:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a><span class=k>class</span> <span class=nc>LazyJsPath</span><span class=p>:</span>
<a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>static_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>static_path</span> <span class=o>=</span> <span class=n>static_path</span>
<a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a>
<a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a>    <span class=k>def</span> <span class=nf>__html__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a>        <span class=n>full_path</span> <span class=o>=</span> <span class=n>static</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>static_path</span><span class=p>)</span>
<a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a>        <span class=k>return</span> <span class=n>format_html</span><span class=p>(</span>
<a id=__codelineno-77-8 name=__codelineno-77-8 href=#__codelineno-77-8></a>            <span class=sa>f</span><span class=s1>&#39;&lt;script type=&quot;module&quot; src=&quot;</span><span class=si>{</span><span class=n>full_path</span><span class=si>}</span><span class=s1>&quot;&gt;&lt;/script&gt;&#39;</span>
<a id=__codelineno-77-9 name=__codelineno-77-9 href=#__codelineno-77-9></a>        <span class=p>)</span>
<a id=__codelineno-77-10 name=__codelineno-77-10 href=#__codelineno-77-10></a>
<a id=__codelineno-77-11 name=__codelineno-77-11 href=#__codelineno-77-11></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;calendar&quot;</span><span class=p>)</span>
<a id=__codelineno-77-12 name=__codelineno-77-12 href=#__codelineno-77-12></a><span class=k>class</span> <span class=nc>Calendar</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-77-13 name=__codelineno-77-13 href=#__codelineno-77-13></a>    <span class=n>template_name</span> <span class=o>=</span> <span class=s2>&quot;calendar/template.html&quot;</span>
<a id=__codelineno-77-14 name=__codelineno-77-14 href=#__codelineno-77-14></a>
<a id=__codelineno-77-15 name=__codelineno-77-15 href=#__codelineno-77-15></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>date</span><span class=p>):</span>
<a id=__codelineno-77-16 name=__codelineno-77-16 href=#__codelineno-77-16></a>        <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-77-17 name=__codelineno-77-17 href=#__codelineno-77-17></a>            <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=n>date</span><span class=p>,</span>
<a id=__codelineno-77-18 name=__codelineno-77-18 href=#__codelineno-77-18></a>        <span class=p>}</span>
<a id=__codelineno-77-19 name=__codelineno-77-19 href=#__codelineno-77-19></a>
<a id=__codelineno-77-20 name=__codelineno-77-20 href=#__codelineno-77-20></a>    <span class=k>class</span> <span class=nc>Media</span><span class=p>:</span>
<a id=__codelineno-77-21 name=__codelineno-77-21 href=#__codelineno-77-21></a>        <span class=n>css</span> <span class=o>=</span> <span class=s2>&quot;calendar/style.css&quot;</span>
<a id=__codelineno-77-22 name=__codelineno-77-22 href=#__codelineno-77-22></a>        <span class=n>js</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-77-23 name=__codelineno-77-23 href=#__codelineno-77-23></a>            <span class=c1># &lt;script&gt; tag constructed by Media class</span>
<a id=__codelineno-77-24 name=__codelineno-77-24 href=#__codelineno-77-24></a>            <span class=s2>&quot;calendar/script1.js&quot;</span><span class=p>,</span>
<a id=__codelineno-77-25 name=__codelineno-77-25 href=#__codelineno-77-25></a>            <span class=c1># Custom &lt;script&gt; tag</span>
<a id=__codelineno-77-26 name=__codelineno-77-26 href=#__codelineno-77-26></a>            <span class=n>LazyJsPath</span><span class=p>(</span><span class=s2>&quot;calendar/script2.js&quot;</span><span class=p>),</span>
<a id=__codelineno-77-27 name=__codelineno-77-27 href=#__codelineno-77-27></a>        <span class=p>]</span>
</code></pre></div> <h2 id=rendering-jscss-dependencies>Rendering JS/CSS dependencies<a class=headerlink href=#rendering-jscss-dependencies title="Permanent link">Â¤</a></h2> <p>The JS and CSS files included in components are not automatically rendered. Instead, use the following tags to specify where to render the dependencies:</p> <ul> <li><code>component_dependencies</code> - Renders both JS and CSS</li> <li><code>component_js_dependencies</code> - Renders only JS</li> <li><code>component_css_dependencies</code> - Reneders only CSS</li> </ul> <p>JS files are rendered as <code>&lt;script&gt;</code> tags.<br> CSS files are rendered as <code>&lt;style&gt;</code> tags.</p> <h2 id=available-settings>Available settings<a class=headerlink href=#available-settings title="Permanent link">Â¤</a></h2> <p>All library settings are handled from a global <code>COMPONENTS</code> variable that is read from <code>settings.py</code>. By default you don't need it set, there are resonable defaults.</p> <p>Here's overview of all available settings and their defaults:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a>    <span class=s2>&quot;autodiscover&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-78-3 name=__codelineno-78-3 href=#__codelineno-78-3></a>    <span class=s2>&quot;context_behavior&quot;</span><span class=p>:</span> <span class=s2>&quot;django&quot;</span><span class=p>,</span>  <span class=c1># &quot;django&quot; | &quot;isolated&quot;</span>
<a id=__codelineno-78-4 name=__codelineno-78-4 href=#__codelineno-78-4></a>    <span class=s2>&quot;dirs&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>BASE_DIR</span> <span class=o>/</span> <span class=s2>&quot;components&quot;</span><span class=p>],</span>  <span class=c1># Root-level &quot;components&quot; dirs, e.g. `/path/to/proj/components/`</span>
<a id=__codelineno-78-5 name=__codelineno-78-5 href=#__codelineno-78-5></a>    <span class=s2>&quot;app_dirs&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;components&quot;</span><span class=p>],</span>  <span class=c1># App-level &quot;components&quot; dirs, e.g. `[app]/components/`</span>
<a id=__codelineno-78-6 name=__codelineno-78-6 href=#__codelineno-78-6></a>    <span class=s2>&quot;dynamic_component_name&quot;</span><span class=p>:</span> <span class=s2>&quot;dynamic&quot;</span><span class=p>,</span>
<a id=__codelineno-78-7 name=__codelineno-78-7 href=#__codelineno-78-7></a>    <span class=s2>&quot;libraries&quot;</span><span class=p>:</span> <span class=p>[],</span>  <span class=c1># [&quot;mysite.components.forms&quot;, ...]</span>
<a id=__codelineno-78-8 name=__codelineno-78-8 href=#__codelineno-78-8></a>    <span class=s2>&quot;multiline_tags&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-78-9 name=__codelineno-78-9 href=#__codelineno-78-9></a>    <span class=s2>&quot;reload_on_template_change&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-78-10 name=__codelineno-78-10 href=#__codelineno-78-10></a>    <span class=s2>&quot;static_files_allowed&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-78-11 name=__codelineno-78-11 href=#__codelineno-78-11></a>        <span class=s2>&quot;.css&quot;</span><span class=p>,</span>
<a id=__codelineno-78-12 name=__codelineno-78-12 href=#__codelineno-78-12></a>        <span class=s2>&quot;.js&quot;</span><span class=p>,</span>
<a id=__codelineno-78-13 name=__codelineno-78-13 href=#__codelineno-78-13></a>        <span class=c1># Images</span>
<a id=__codelineno-78-14 name=__codelineno-78-14 href=#__codelineno-78-14></a>        <span class=s2>&quot;.apng&quot;</span><span class=p>,</span> <span class=s2>&quot;.png&quot;</span><span class=p>,</span> <span class=s2>&quot;.avif&quot;</span><span class=p>,</span> <span class=s2>&quot;.gif&quot;</span><span class=p>,</span> <span class=s2>&quot;.jpg&quot;</span><span class=p>,</span>
<a id=__codelineno-78-15 name=__codelineno-78-15 href=#__codelineno-78-15></a>        <span class=s2>&quot;.jpeg&quot;</span><span class=p>,</span>  <span class=s2>&quot;.jfif&quot;</span><span class=p>,</span> <span class=s2>&quot;.pjpeg&quot;</span><span class=p>,</span> <span class=s2>&quot;.pjp&quot;</span><span class=p>,</span> <span class=s2>&quot;.svg&quot;</span><span class=p>,</span>
<a id=__codelineno-78-16 name=__codelineno-78-16 href=#__codelineno-78-16></a>        <span class=s2>&quot;.webp&quot;</span><span class=p>,</span> <span class=s2>&quot;.bmp&quot;</span><span class=p>,</span> <span class=s2>&quot;.ico&quot;</span><span class=p>,</span> <span class=s2>&quot;.cur&quot;</span><span class=p>,</span> <span class=s2>&quot;.tif&quot;</span><span class=p>,</span> <span class=s2>&quot;.tiff&quot;</span><span class=p>,</span>
<a id=__codelineno-78-17 name=__codelineno-78-17 href=#__codelineno-78-17></a>        <span class=c1># Fonts</span>
<a id=__codelineno-78-18 name=__codelineno-78-18 href=#__codelineno-78-18></a>        <span class=s2>&quot;.eot&quot;</span><span class=p>,</span> <span class=s2>&quot;.ttf&quot;</span><span class=p>,</span> <span class=s2>&quot;.woff&quot;</span><span class=p>,</span> <span class=s2>&quot;.otf&quot;</span><span class=p>,</span> <span class=s2>&quot;.svg&quot;</span><span class=p>,</span>
<a id=__codelineno-78-19 name=__codelineno-78-19 href=#__codelineno-78-19></a>    <span class=p>],</span>
<a id=__codelineno-78-20 name=__codelineno-78-20 href=#__codelineno-78-20></a>    <span class=s2>&quot;static_files_forbidden&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-78-21 name=__codelineno-78-21 href=#__codelineno-78-21></a>        <span class=s2>&quot;.html&quot;</span><span class=p>,</span> <span class=s2>&quot;.django&quot;</span><span class=p>,</span> <span class=s2>&quot;.dj&quot;</span><span class=p>,</span> <span class=s2>&quot;.tpl&quot;</span><span class=p>,</span>
<a id=__codelineno-78-22 name=__codelineno-78-22 href=#__codelineno-78-22></a>        <span class=c1># Python files</span>
<a id=__codelineno-78-23 name=__codelineno-78-23 href=#__codelineno-78-23></a>        <span class=s2>&quot;.py&quot;</span><span class=p>,</span> <span class=s2>&quot;.pyc&quot;</span><span class=p>,</span>
<a id=__codelineno-78-24 name=__codelineno-78-24 href=#__codelineno-78-24></a>    <span class=p>],</span>
<a id=__codelineno-78-25 name=__codelineno-78-25 href=#__codelineno-78-25></a>    <span class=s2>&quot;tag_formatter&quot;</span><span class=p>:</span> <span class=s2>&quot;django_components.component_formatter&quot;</span><span class=p>,</span>
<a id=__codelineno-78-26 name=__codelineno-78-26 href=#__codelineno-78-26></a>    <span class=s2>&quot;template_cache_size&quot;</span><span class=p>:</span> <span class=mi>128</span><span class=p>,</span>
<a id=__codelineno-78-27 name=__codelineno-78-27 href=#__codelineno-78-27></a><span class=p>}</span>
</code></pre></div> <h2 id=autodiscover-toggle-autodiscovery><code>autodiscover</code> - Toggle autodiscovery<a class=headerlink href=#autodiscover-toggle-autodiscovery title="Permanent link">Â¤</a></h2> <p>If you specify all the component locations with the setting above and have a lot of apps, you can (very) slightly speed things up by disabling autodiscovery.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a>    <span class=s2>&quot;autodiscover&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a><span class=p>}</span>
</code></pre></div> <h2 id=app_dirs><code>app_dirs</code><a class=headerlink href=#app_dirs title="Permanent link">Â¤</a></h2> <p>Specify the app-level directories that contain your components.</p> <p>Directories must be relative to app, e.g.:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-80-2 name=__codelineno-80-2 href=#__codelineno-80-2></a>    <span class=s2>&quot;app_dirs&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;my_comps&quot;</span><span class=p>],</span>  <span class=c1># To search for [app]/my_comps</span>
<a id=__codelineno-80-3 name=__codelineno-80-3 href=#__codelineno-80-3></a><span class=p>}</span>
</code></pre></div> <p>These locations are searched during autodiscovery, or when you define HTML, JS, or CSS as a separate file.</p> <p>Each app will be searched for these directories.</p> <p>Set to empty list to disable app-level components:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a>    <span class=s2>&quot;app_dirs&quot;</span><span class=p>:</span> <span class=p>[],</span>
<a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a><span class=p>}</span>
</code></pre></div> <h2 id=multiline_tags-enabledisable-multiline-support><code>multiline_tags</code> - Enable/Disable multiline support<a class=headerlink href=#multiline_tags-enabledisable-multiline-support title="Permanent link">Â¤</a></h2> <p>If <code>True</code>, template tags can span multiple lines. Default: <code>True</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a>    <span class=s2>&quot;multiline_tags&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-82-3 name=__codelineno-82-3 href=#__codelineno-82-3></a><span class=p>}</span>
</code></pre></div> <h2 id=static_files_forbidden><code>static_files_forbidden</code><a class=headerlink href=#static_files_forbidden title="Permanent link">Â¤</a></h2> <p>A list of suffixes that define which files within <code>COMPONENTS.dirs</code> and <code>COMPONENTS.app_dirs</code> will NEVER be treated as static files.</p> <p>If a file is matched against any of the patterns, it will never be considered a static file, even if the file matches a pattern in <a href=..#static_files_allowed><code>COMPONENTS.static_files_allowed</code></a>.</p> <p>Use this setting together with <code>COMPONENTS.static_files_allowed</code> for a fine control over what files will be exposed.</p> <p>You can also pass in compiled regexes (<code>re.Pattern</code>) for more advanced patterns.</p> <p>By default, any HTML and Python are considered NOT static files:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a>    <span class=s2>&quot;static_files_forbidden&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a>        <span class=s2>&quot;.html&quot;</span><span class=p>,</span> <span class=s2>&quot;.django&quot;</span><span class=p>,</span> <span class=s2>&quot;.dj&quot;</span><span class=p>,</span> <span class=s2>&quot;.tpl&quot;</span><span class=p>,</span> <span class=s2>&quot;.py&quot;</span><span class=p>,</span> <span class=s2>&quot;.pyc&quot;</span><span class=p>,</span>
<a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a>    <span class=p>],</span>
<a id=__codelineno-83-5 name=__codelineno-83-5 href=#__codelineno-83-5></a><span class=p>}</span>
</code></pre></div> <h2 id=context_behavior-make-components-isolated-or-not><code>context_behavior</code> - Make components isolated (or not)<a class=headerlink href=#context_behavior-make-components-isolated-or-not title="Permanent link">Â¤</a></h2> <blockquote> <p>NOTE: <code>context_behavior</code> and <code>slot_context_behavior</code> options were merged in v0.70.</p> <p>If you are migrating from BEFORE v0.67, set <code>context_behavior</code> to <code>"django"</code>. From v0.67 to v0.78 (incl) the default value was <code>"isolated"</code>.</p> <p>For v0.79 and later, the default is again <code>"django"</code>. See the rationale for change <a href=https://github.com/EmilStenstrom/django-components/issues/498>here</a>.</p> </blockquote> <p>You can configure what variables are available inside the <code>{% fill %}</code> tags. See <a href=..#component-context-and-scope>Component context and scope</a>.</p> <p>This has two modes:</p> <ul> <li><code>"django"</code> - Default - The default Django template behavior.</li> </ul> <p>Inside the <code>{% fill %}</code> tag, the context variables you can access are a union of:</p> <ul> <li>All the variables that were OUTSIDE the fill tag, including any loops or with tag</li> <li> <p>Data returned from <code>get_context_data()</code> of the component that wraps the fill tag.</p> </li> <li> <p><code>"isolated"</code> - Similar behavior to <a href=https://vuejs.org/guide/components/slots.html#render-scope>Vue</a> or React, this is useful if you want to make sure that components don't accidentally access variables defined outside of the component.</p> </li> </ul> <p>Inside the <code>{% fill %}</code> tag, you can ONLY access variables from 2 places:</p> <ul> <li><code>get_context_data()</code> of the component which defined the template (AKA the "root" component)</li> <li>Any loops (<code>{% for ... %}</code>) that the <code>{% fill %}</code> tag is part of.</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a>    <span class=s2>&quot;context_behavior&quot;</span><span class=p>:</span> <span class=s2>&quot;isolated&quot;</span><span class=p>,</span>
<a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a><span class=p>}</span>
</code></pre></div> <h3 id=example-isolated>Example "isolated"<a class=headerlink href=#example-isolated title="Permanent link">Â¤</a></h3> <p>Given this template:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=k>class</span> <span class=nc>RootComp</span><span class=p>(</span><span class=n>Component</span><span class=p>):</span>
<a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a>    <span class=n>template</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a><span class=s2>        {% with cheese=&quot;feta&quot; %}</span>
<a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a><span class=s2>            {</span><span class=si>% c</span><span class=s2>omponent &#39;my_comp&#39; %}</span>
<a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a><span class=s2>                {{ my_var }}  # my_var</span>
<a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a><span class=s2>                {{ cheese }}  # cheese</span>
<a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a><span class=s2>            {</span><span class=si>% e</span><span class=s2>ndcomponent %}</span>
<a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a><span class=s2>        {</span><span class=si>% e</span><span class=s2>ndwith %}</span>
<a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a><span class=s2>    &quot;&quot;&quot;</span>
<a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a>        <span class=k>return</span> <span class=p>{</span> <span class=s2>&quot;my_var&quot;</span><span class=p>:</span> <span class=mi>123</span> <span class=p>}</span>
</code></pre></div> <p>Then if <code>get_context_data()</code> of the component <code>"my_comp"</code> returns following data:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a><span class=p>{</span> <span class=s2>&quot;my_var&quot;</span><span class=p>:</span> <span class=mi>456</span> <span class=p>}</span>
</code></pre></div> <p>Then the template will be rendered as:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a><span class=x>123   # my_var</span>
<a id=__codelineno-87-2 name=__codelineno-87-2 href=#__codelineno-87-2></a><span class=x>      # cheese</span>
</code></pre></div> <p>Because variables <code>"my_var"</code> and <code>"cheese"</code> are searched only inside <code>RootComponent.get_context_data()</code>. But since <code>"cheese"</code> is not defined there, it's empty.</p> <p>Notice that the variables defined with the <code>{% with %}</code> tag are ignored inside the <code>{% fill %}</code> tag with the <code>"isolated"</code> mode.</p> <h2 id=tag_formatter-change-how-components-are-used-in-templates><code>tag_formatter</code> - Change how components are used in templates<a class=headerlink href=#tag_formatter-change-how-components-are-used-in-templates title="Permanent link">Â¤</a></h2> <p>Sets the <a href=..#available-tagformatters><code>TagFormatter</code></a> instance. See the section <a href=..#customizing-component-tags-with-tagformatter>Customizing component tags with TagFormatter</a>.</p> <p>Can be set either as direct reference, or as an import string;</p> <div class=highlight><pre><span></span><code><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-88-2 name=__codelineno-88-2 href=#__codelineno-88-2></a>    <span class=s2>&quot;tag_formatter&quot;</span><span class=p>:</span> <span class=s2>&quot;django_components.component_formatter&quot;</span>
<a id=__codelineno-88-3 name=__codelineno-88-3 href=#__codelineno-88-3></a><span class=p>}</span>
</code></pre></div> <p>Or</p> <div class=highlight><pre><span></span><code><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>component_formatter</span>
<a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a>
<a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a><span class=n>COMPONENTS</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a>    <span class=s2>&quot;tag_formatter&quot;</span><span class=p>:</span> <span class=n>component_formatter</span>
<a id=__codelineno-89-5 name=__codelineno-89-5 href=#__codelineno-89-5></a><span class=p>}</span>
</code></pre></div> <p>Reload dev server on component file changes</p> <p>This is relevant if you are using the project structure as shown in our examples, where HTML, JS, CSS and Python are separate and nested in a directory.</p> <p>In this case you may notice that when you are running a development server, the server sometimes does not reload when you change comoponent files.</p> <p>From relevant <a href=https://stackoverflow.com/a/76722393/9788634>StackOverflow thread</a>:</p> <blockquote> <p>TL;DR is that the server won't reload if it thinks the changed file is in a templates directory, or in a nested sub directory of a templates directory. This is by design.</p> </blockquote> <p>To make the dev server reload on all component files, set <a href=..#reload_on_template_change---reload-dev-server-on-component-file-changes><code>reload_on_template_change</code></a> to <code>True</code>. This configures Django to watch for component files too.</p> <p>NOTE: This setting should be enabled only for the dev environment!</p> <p>Management Command</p> <p>You can use the built-in management command <code>startcomponent</code> to create a django component. The command accepts the following arguments and options:</p> <ul> <li> <p><code>name</code>: The name of the component to create. This is a required argument.</p> </li> <li> <p><code>--path</code>: The path to the components directory. This is an optional argument. If not provided, the command will use the <code>BASE_DIR</code> setting from your Django settings.</p> </li> <li> <p><code>--js</code>: The name of the JavaScript file. This is an optional argument. The default value is <code>script.js</code>.</p> </li> <li> <p><code>--css</code>: The name of the CSS file. This is an optional argument. The default value is <code>style.css</code>.</p> </li> <li> <p><code>--template</code>: The name of the template file. This is an optional argument. The default value is <code>template.html</code>.</p> </li> <li> <p><code>--force</code>: This option allows you to overwrite existing files if they exist. This is an optional argument.</p> </li> <li> <p><code>--verbose</code>: This option allows the command to print additional information during component creation. This is an optional argument.</p> </li> <li> <p><code>--dry-run</code>: This option allows you to simulate component creation without actually creating any files. This is an optional argument. The default value is <code>False</code>.</p> </li> </ul> <h2 id=management-command-examples>Management Command Examples<a class=headerlink href=#management-command-examples title="Permanent link">Â¤</a></h2> <p>Here are some examples of how you can use the command:</p> <h2 id=creating-a-component-with-custom-settings>Creating a Component with Custom Settings<a class=headerlink href=#creating-a-component-with-custom-settings title="Permanent link">Â¤</a></h2> <p>You can also create a component with custom settings by providing additional arguments:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-90-1 name=__codelineno-90-1 href=#__codelineno-90-1></a>python<span class=w> </span>manage.py<span class=w> </span>startcomponent<span class=w> </span>new_component<span class=w> </span>--path<span class=w> </span>my_components<span class=w> </span>--js<span class=w> </span>my_script.js<span class=w> </span>--css<span class=w> </span>my_style.css<span class=w> </span>--template<span class=w> </span>my_template.html
</code></pre></div> <p>This will create a new component named <code>new_component</code> in the <code>my_components</code> directory. The JavaScript, CSS, and template files will be named <code>my_script.js</code>, <code>my_style.css</code>, and <code>my_template.html</code>, respectively.</p> <h2 id=simulating-component-creation>Simulating Component Creation<a class=headerlink href=#simulating-component-creation title="Permanent link">Â¤</a></h2> <p>If you want to simulate the creation of a component without actually creating any files, you can use the <code>--dry-run</code> option:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-91-1 name=__codelineno-91-1 href=#__codelineno-91-1></a>python<span class=w> </span>manage.py<span class=w> </span>startcomponent<span class=w> </span>my_component<span class=w> </span>--dry-run
</code></pre></div> <p>This will simulate the creation of <code>my_component</code> without creating any files.</p> <p>Writing component libraries</p> <ol> <li> <p>Create a Django project with the following structure:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-92-1 name=__codelineno-92-1 href=#__codelineno-92-1></a>project/
<a id=__codelineno-92-2 name=__codelineno-92-2 href=#__codelineno-92-2></a>  |--  myapp/
<a id=__codelineno-92-3 name=__codelineno-92-3 href=#__codelineno-92-3></a>    |--  __init__.py
<a id=__codelineno-92-4 name=__codelineno-92-4 href=#__codelineno-92-4></a>    |--  apps.py
<a id=__codelineno-92-5 name=__codelineno-92-5 href=#__codelineno-92-5></a>    |--  templates/
<a id=__codelineno-92-6 name=__codelineno-92-6 href=#__codelineno-92-6></a>      |--  table/
<a id=__codelineno-92-7 name=__codelineno-92-7 href=#__codelineno-92-7></a>        |--  table.py
<a id=__codelineno-92-8 name=__codelineno-92-8 href=#__codelineno-92-8></a>        |--  table.js
<a id=__codelineno-92-9 name=__codelineno-92-9 href=#__codelineno-92-9></a>        |--  table.css
<a id=__codelineno-92-10 name=__codelineno-92-10 href=#__codelineno-92-10></a>        |--  table.html
<a id=__codelineno-92-11 name=__codelineno-92-11 href=#__codelineno-92-11></a>    |--  menu.py   &lt;--- single-file component
<a id=__codelineno-92-12 name=__codelineno-92-12 href=#__codelineno-92-12></a>  |--  templatetags/
<a id=__codelineno-92-13 name=__codelineno-92-13 href=#__codelineno-92-13></a>    |--  __init__.py
<a id=__codelineno-92-14 name=__codelineno-92-14 href=#__codelineno-92-14></a>    |--  mytags.py
</code></pre></div> </li> <li> <p>Create custom <code>Library</code> and <code>ComponentRegistry</code> instances in <code>mytags.py</code></p> <p>This will be the entrypoint for using the components inside Django templates.</p> <p>Remember that Django requires the <code>Library</code> instance to be accessible under the <code>register</code> variable (<a href=https://docs.djangoproject.com/en/dev/howto/custom-template-tags>See Django docs</a>):</p> <div class=highlight><pre><span></span><code><a id=__codelineno-93-1 name=__codelineno-93-1 href=#__codelineno-93-1></a><span class=kn>from</span> <span class=nn>django.template</span> <span class=kn>import</span> <span class=n>Library</span>
<a id=__codelineno-93-2 name=__codelineno-93-2 href=#__codelineno-93-2></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>ComponentRegistry</span><span class=p>,</span> <span class=n>RegistrySettings</span>
<a id=__codelineno-93-3 name=__codelineno-93-3 href=#__codelineno-93-3></a>
<a id=__codelineno-93-4 name=__codelineno-93-4 href=#__codelineno-93-4></a><span class=n>register</span> <span class=o>=</span> <span class=n>library</span> <span class=o>=</span> <span class=n>django</span><span class=o>.</span><span class=n>template</span><span class=o>.</span><span class=n>Library</span><span class=p>()</span>
<a id=__codelineno-93-5 name=__codelineno-93-5 href=#__codelineno-93-5></a><span class=n>comp_registry</span> <span class=o>=</span> <span class=n>ComponentRegistry</span><span class=p>(</span>
<a id=__codelineno-93-6 name=__codelineno-93-6 href=#__codelineno-93-6></a>    <span class=n>library</span><span class=o>=</span><span class=n>library</span><span class=p>,</span>
<a id=__codelineno-93-7 name=__codelineno-93-7 href=#__codelineno-93-7></a>    <span class=n>settings</span><span class=o>=</span><span class=n>RegistrySettings</span><span class=p>(</span>
<a id=__codelineno-93-8 name=__codelineno-93-8 href=#__codelineno-93-8></a>        <span class=n>CONTEXT_BEHAVIOR</span><span class=o>=</span><span class=s2>&quot;isolated&quot;</span><span class=p>,</span>
<a id=__codelineno-93-9 name=__codelineno-93-9 href=#__codelineno-93-9></a>        <span class=n>TAG_FORMATTER</span><span class=o>=</span><span class=s2>&quot;django_components.component_formatter&quot;</span><span class=p>,</span>
<a id=__codelineno-93-10 name=__codelineno-93-10 href=#__codelineno-93-10></a>    <span class=p>),</span>
<a id=__codelineno-93-11 name=__codelineno-93-11 href=#__codelineno-93-11></a><span class=p>)</span>
</code></pre></div> <p>As you can see above, this is also the place where we configure how our components should behave, using the <code>settings</code> argument. If omitted, default settings are used.</p> <p>For library authors, we recommend setting <code>CONTEXT_BEHAVIOR</code> to <code>"isolated"</code>, so that the state cannot leak into the components, and so the components' behavior is configured solely through the inputs. This means that the components will be more predictable and easier to debug.</p> <p>Next, you can decide how will others use your components by settingt the <code>TAG_FORMATTER</code> options.</p> <p>If omitted or set to <code>"django_components.component_formatter"</code>, your components will be used like this:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-94-1 name=__codelineno-94-1 href=#__codelineno-94-1></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;table&quot;</span> <span class=nv>items</span><span class=o>=</span><span class=nv>items</span> <span class=nv>headers</span><span class=o>=</span><span class=nv>headers</span> <span class=cp>%}</span>
<a id=__codelineno-94-2 name=__codelineno-94-2 href=#__codelineno-94-2></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> <p>Or you can use <code>"django_components.component_shorthand_formatter"</code> to use components like so:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-95-1 name=__codelineno-95-1 href=#__codelineno-95-1></a><span class=cp>{%</span> <span class=k>table</span> <span class=nv>items</span><span class=o>=</span><span class=nv>items</span> <span class=nv>headers</span><span class=o>=</span><span class=nv>headers</span> <span class=cp>%}</span>
<a id=__codelineno-95-2 name=__codelineno-95-2 href=#__codelineno-95-2></a><span class=cp>{%</span> <span class=k>endtable</span> <span class=cp>%}</span>
</code></pre></div> <p>Or you can define a <a href=..#tagformatter>custom TagFormatter</a>.</p> <p>Either way, these settings will be scoped only to your components. So, in the user code, there may be components side-by-side that use different formatters:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-96-1 name=__codelineno-96-1 href=#__codelineno-96-1></a><span class=cp>{%</span> <span class=k>load</span> <span class=nv>mytags</span> <span class=cp>%}</span>
<a id=__codelineno-96-2 name=__codelineno-96-2 href=#__codelineno-96-2></a>
<a id=__codelineno-96-3 name=__codelineno-96-3 href=#__codelineno-96-3></a><span class=c>{# Component from your library &quot;mytags&quot;, using the &quot;shorthand&quot; formatter #}</span>
<a id=__codelineno-96-4 name=__codelineno-96-4 href=#__codelineno-96-4></a><span class=cp>{%</span> <span class=k>table</span> <span class=nv>items</span><span class=o>=</span><span class=nv>items</span> <span class=nv>headers</span><span class=o>=</span><span class=nv>header</span> <span class=cp>%}</span>
<a id=__codelineno-96-5 name=__codelineno-96-5 href=#__codelineno-96-5></a><span class=cp>{%</span> <span class=k>endtable</span> <span class=cp>%}</span>
<a id=__codelineno-96-6 name=__codelineno-96-6 href=#__codelineno-96-6></a>
<a id=__codelineno-96-7 name=__codelineno-96-7 href=#__codelineno-96-7></a><span class=c>{# User-created components using the default settings #}</span>
<a id=__codelineno-96-8 name=__codelineno-96-8 href=#__codelineno-96-8></a><span class=cp>{%</span> <span class=k>component</span> <span class=s2>&quot;my_comp&quot;</span> <span class=nv>title</span><span class=o>=</span><span class=s2>&quot;Abc...&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-96-9 name=__codelineno-96-9 href=#__codelineno-96-9></a><span class=cp>{%</span> <span class=k>endcomponent</span> <span class=cp>%}</span>
</code></pre></div> </li> <li> <p>Write your components and register them with your instance of <code>ComponentRegistry</code></p> <p>There's one difference when you are writing components that are to be shared, and that's that the components must be explicitly registered with your instance of <code>ComponentRegistry</code> from the previous step.</p> <p>For better user experience, you can also define the types for the args, kwargs, slots and data.</p> <p>It's also a good idea to have a common prefix for your components, so they can be easily distinguished from users' components. In the example below, we use the prefix <code>my_</code> / <code>My</code>.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-97-1 name=__codelineno-97-1 href=#__codelineno-97-1></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>NotRequired</span><span class=p>,</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Tuple</span><span class=p>,</span> <span class=n>TypedDict</span>
<a id=__codelineno-97-2 name=__codelineno-97-2 href=#__codelineno-97-2></a>
<a id=__codelineno-97-3 name=__codelineno-97-3 href=#__codelineno-97-3></a><span class=kn>from</span> <span class=nn>django_components</span> <span class=kn>import</span> <span class=n>Component</span><span class=p>,</span> <span class=n>SlotFunc</span><span class=p>,</span> <span class=n>register</span><span class=p>,</span> <span class=n>types</span>
<a id=__codelineno-97-4 name=__codelineno-97-4 href=#__codelineno-97-4></a>
<a id=__codelineno-97-5 name=__codelineno-97-5 href=#__codelineno-97-5></a><span class=kn>from</span> <span class=nn>myapp.templatetags.mytags</span> <span class=kn>import</span> <span class=n>comp_registry</span>
<a id=__codelineno-97-6 name=__codelineno-97-6 href=#__codelineno-97-6></a>
<a id=__codelineno-97-7 name=__codelineno-97-7 href=#__codelineno-97-7></a><span class=c1># Define the types</span>
<a id=__codelineno-97-8 name=__codelineno-97-8 href=#__codelineno-97-8></a><span class=k>class</span> <span class=nc>EmptyDict</span><span class=p>(</span><span class=n>TypedDict</span><span class=p>):</span>
<a id=__codelineno-97-9 name=__codelineno-97-9 href=#__codelineno-97-9></a>    <span class=k>pass</span>
<a id=__codelineno-97-10 name=__codelineno-97-10 href=#__codelineno-97-10></a>
<a id=__codelineno-97-11 name=__codelineno-97-11 href=#__codelineno-97-11></a><span class=nb>type</span> <span class=n>MyMenuArgs</span> <span class=o>=</span> <span class=n>Tuple</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>str</span><span class=p>]</span>
<a id=__codelineno-97-12 name=__codelineno-97-12 href=#__codelineno-97-12></a>
<a id=__codelineno-97-13 name=__codelineno-97-13 href=#__codelineno-97-13></a><span class=k>class</span> <span class=nc>MyMenuSlots</span><span class=p>(</span><span class=n>TypedDict</span><span class=p>):</span>
<a id=__codelineno-97-14 name=__codelineno-97-14 href=#__codelineno-97-14></a>    <span class=n>default</span><span class=p>:</span> <span class=n>NotRequired</span><span class=p>[</span><span class=n>Optional</span><span class=p>[</span><span class=n>SlotFunc</span><span class=p>[</span><span class=n>EmptyDict</span><span class=p>]]]</span>
<a id=__codelineno-97-15 name=__codelineno-97-15 href=#__codelineno-97-15></a>
<a id=__codelineno-97-16 name=__codelineno-97-16 href=#__codelineno-97-16></a><span class=k>class</span> <span class=nc>MyMenuProps</span><span class=p>(</span><span class=n>TypedDict</span><span class=p>):</span>
<a id=__codelineno-97-17 name=__codelineno-97-17 href=#__codelineno-97-17></a>    <span class=n>vertical</span><span class=p>:</span> <span class=n>NotRequired</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span>
<a id=__codelineno-97-18 name=__codelineno-97-18 href=#__codelineno-97-18></a>    <span class=n>klass</span><span class=p>:</span> <span class=n>NotRequired</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
<a id=__codelineno-97-19 name=__codelineno-97-19 href=#__codelineno-97-19></a>    <span class=n>style</span><span class=p>:</span> <span class=n>NotRequired</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
<a id=__codelineno-97-20 name=__codelineno-97-20 href=#__codelineno-97-20></a>
<a id=__codelineno-97-21 name=__codelineno-97-21 href=#__codelineno-97-21></a><span class=c1># Define the component</span>
<a id=__codelineno-97-22 name=__codelineno-97-22 href=#__codelineno-97-22></a><span class=c1># NOTE: Don&#39;t forget to set the `registry`!</span>
<a id=__codelineno-97-23 name=__codelineno-97-23 href=#__codelineno-97-23></a><span class=nd>@register</span><span class=p>(</span><span class=s2>&quot;my_menu&quot;</span><span class=p>,</span> <span class=n>registry</span><span class=o>=</span><span class=n>comp_registry</span><span class=p>)</span>
<a id=__codelineno-97-24 name=__codelineno-97-24 href=#__codelineno-97-24></a><span class=k>class</span> <span class=nc>MyMenu</span><span class=p>(</span><span class=n>Component</span><span class=p>[</span><span class=n>MyMenuArgs</span><span class=p>,</span> <span class=n>MyMenuProps</span><span class=p>,</span> <span class=n>MyMenuSlots</span><span class=p>,</span> <span class=n>Any</span><span class=p>]):</span>
<a id=__codelineno-97-25 name=__codelineno-97-25 href=#__codelineno-97-25></a>    <span class=k>def</span> <span class=nf>get_context_data</span><span class=p>(</span>
<a id=__codelineno-97-26 name=__codelineno-97-26 href=#__codelineno-97-26></a>        <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-97-27 name=__codelineno-97-27 href=#__codelineno-97-27></a>        <span class=o>*</span><span class=n>args</span><span class=p>,</span>
<a id=__codelineno-97-28 name=__codelineno-97-28 href=#__codelineno-97-28></a>        <span class=n>attrs</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Dict</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-97-29 name=__codelineno-97-29 href=#__codelineno-97-29></a>    <span class=p>):</span>
<a id=__codelineno-97-30 name=__codelineno-97-30 href=#__codelineno-97-30></a>        <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-97-31 name=__codelineno-97-31 href=#__codelineno-97-31></a>            <span class=s2>&quot;attrs&quot;</span><span class=p>:</span> <span class=n>attrs</span><span class=p>,</span>
<a id=__codelineno-97-32 name=__codelineno-97-32 href=#__codelineno-97-32></a>        <span class=p>}</span>
<a id=__codelineno-97-33 name=__codelineno-97-33 href=#__codelineno-97-33></a>
<a id=__codelineno-97-34 name=__codelineno-97-34 href=#__codelineno-97-34></a>    <span class=n>template</span><span class=p>:</span> <span class=n>types</span><span class=o>.</span><span class=n>django_html</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-97-35 name=__codelineno-97-35 href=#__codelineno-97-35></a><span class=s2>        {# Load django_components template tags #}</span>
<a id=__codelineno-97-36 name=__codelineno-97-36 href=#__codelineno-97-36></a><span class=s2>        {</span><span class=si>% lo</span><span class=s2>ad component_tags %}</span>
<a id=__codelineno-97-37 name=__codelineno-97-37 href=#__codelineno-97-37></a>
<a id=__codelineno-97-38 name=__codelineno-97-38 href=#__codelineno-97-38></a><span class=s2>        &lt;div {% html_attrs attrs class=&quot;my-menu&quot; %}&gt;</span>
<a id=__codelineno-97-39 name=__codelineno-97-39 href=#__codelineno-97-39></a><span class=s2>            &lt;div class=&quot;my-menu__content&quot;&gt;</span>
<a id=__codelineno-97-40 name=__codelineno-97-40 href=#__codelineno-97-40></a><span class=s2>                {</span><span class=si>% s</span><span class=s2>lot &quot;default&quot; default / %}</span>
<a id=__codelineno-97-41 name=__codelineno-97-41 href=#__codelineno-97-41></a><span class=s2>            &lt;/div&gt;</span>
<a id=__codelineno-97-42 name=__codelineno-97-42 href=#__codelineno-97-42></a><span class=s2>        &lt;/div&gt;</span>
<a id=__codelineno-97-43 name=__codelineno-97-43 href=#__codelineno-97-43></a><span class=s2>    &quot;&quot;&quot;</span>
</code></pre></div> </li> <li> <p>Import the components in <code>apps.py</code></p> <p>Normally, users rely on <a href=..#autodiscovery>autodiscovery</a> and <code>COMPONENTS.dirs</code> to load the component files.</p> <p>Since you, as the library author, are not in control of the file system, it is recommended to load the components manually.</p> <p>We recommend doing this in the <code>AppConfig.ready()</code> hook of your <code>apps.py</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-98-1 name=__codelineno-98-1 href=#__codelineno-98-1></a><span class=kn>from</span> <span class=nn>django.apps</span> <span class=kn>import</span> <span class=n>AppConfig</span>
<a id=__codelineno-98-2 name=__codelineno-98-2 href=#__codelineno-98-2></a>
<a id=__codelineno-98-3 name=__codelineno-98-3 href=#__codelineno-98-3></a><span class=k>class</span> <span class=nc>MyAppConfig</span><span class=p>(</span><span class=n>AppConfig</span><span class=p>):</span>
<a id=__codelineno-98-4 name=__codelineno-98-4 href=#__codelineno-98-4></a>    <span class=n>default_auto_field</span> <span class=o>=</span> <span class=s2>&quot;django.db.models.BigAutoField&quot;</span>
<a id=__codelineno-98-5 name=__codelineno-98-5 href=#__codelineno-98-5></a>    <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;myapp&quot;</span>
<a id=__codelineno-98-6 name=__codelineno-98-6 href=#__codelineno-98-6></a>
<a id=__codelineno-98-7 name=__codelineno-98-7 href=#__codelineno-98-7></a>    <span class=c1># This is the code that gets run when user adds myapp</span>
<a id=__codelineno-98-8 name=__codelineno-98-8 href=#__codelineno-98-8></a>    <span class=c1># to Django&#39;s INSTALLED_APPS</span>
<a id=__codelineno-98-9 name=__codelineno-98-9 href=#__codelineno-98-9></a>    <span class=k>def</span> <span class=nf>ready</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-98-10 name=__codelineno-98-10 href=#__codelineno-98-10></a>        <span class=c1># Import the components that you want to make available</span>
<a id=__codelineno-98-11 name=__codelineno-98-11 href=#__codelineno-98-11></a>        <span class=c1># inside the templates.</span>
<a id=__codelineno-98-12 name=__codelineno-98-12 href=#__codelineno-98-12></a>        <span class=kn>from</span> <span class=nn>myapp.templates</span> <span class=kn>import</span> <span class=p>(</span>
<a id=__codelineno-98-13 name=__codelineno-98-13 href=#__codelineno-98-13></a>            <span class=n>menu</span><span class=p>,</span>
<a id=__codelineno-98-14 name=__codelineno-98-14 href=#__codelineno-98-14></a>            <span class=n>table</span><span class=p>,</span>
<a id=__codelineno-98-15 name=__codelineno-98-15 href=#__codelineno-98-15></a>        <span class=p>)</span>
</code></pre></div> <p>Note that you can also include any other startup logic within <code>AppConfig.ready()</code>.</p> </li> </ol> <p>And that's it! The next step is to publish it.</p> <h2 id=installing-and-using-component-libraries>Installing and using component libraries<a class=headerlink href=#installing-and-using-component-libraries title="Permanent link">Â¤</a></h2> <p>After the package has been published, all that remains is to install it in other django projects:</p> <ol> <li> <p>Install the package:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-99-1 name=__codelineno-99-1 href=#__codelineno-99-1></a>pip<span class=w> </span>install<span class=w> </span>myapp
</code></pre></div> </li> <li> <p>Add the package to <code>INSTALLED_APPS</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-100-1 name=__codelineno-100-1 href=#__codelineno-100-1></a><span class=n>INSTALLED_APPS</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-100-2 name=__codelineno-100-2 href=#__codelineno-100-2></a>    <span class=o>...</span>
<a id=__codelineno-100-3 name=__codelineno-100-3 href=#__codelineno-100-3></a>    <span class=s2>&quot;myapp&quot;</span><span class=p>,</span>
<a id=__codelineno-100-4 name=__codelineno-100-4 href=#__codelineno-100-4></a><span class=p>]</span>
</code></pre></div> </li> <li> <p>Optionally add the template tags to the <code>builtins</code>, so you don't have to call <code>{% load mytags %}</code> in every template:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-101-1 name=__codelineno-101-1 href=#__codelineno-101-1></a><span class=n>TEMPLATES</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-101-2 name=__codelineno-101-2 href=#__codelineno-101-2></a>    <span class=p>{</span>
<a id=__codelineno-101-3 name=__codelineno-101-3 href=#__codelineno-101-3></a>        <span class=o>...</span><span class=p>,</span>
<a id=__codelineno-101-4 name=__codelineno-101-4 href=#__codelineno-101-4></a>        <span class=s1>&#39;OPTIONS&#39;</span><span class=p>:</span> <span class=p>{</span>
<a id=__codelineno-101-5 name=__codelineno-101-5 href=#__codelineno-101-5></a>            <span class=s1>&#39;context_processors&#39;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-101-6 name=__codelineno-101-6 href=#__codelineno-101-6></a>                <span class=o>...</span>
<a id=__codelineno-101-7 name=__codelineno-101-7 href=#__codelineno-101-7></a>            <span class=p>],</span>
<a id=__codelineno-101-8 name=__codelineno-101-8 href=#__codelineno-101-8></a>            <span class=s1>&#39;builtins&#39;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-101-9 name=__codelineno-101-9 href=#__codelineno-101-9></a>                <span class=s1>&#39;myapp.templatetags.mytags&#39;</span><span class=p>,</span>
<a id=__codelineno-101-10 name=__codelineno-101-10 href=#__codelineno-101-10></a>            <span class=p>]</span>
<a id=__codelineno-101-11 name=__codelineno-101-11 href=#__codelineno-101-11></a>        <span class=p>},</span>
<a id=__codelineno-101-12 name=__codelineno-101-12 href=#__codelineno-101-12></a>    <span class=p>},</span>
<a id=__codelineno-101-13 name=__codelineno-101-13 href=#__codelineno-101-13></a><span class=p>]</span>
</code></pre></div> </li> <li> <p>And, at last, you can use the components in your own project!</p> <div class=highlight><pre><span></span><code><a id=__codelineno-102-1 name=__codelineno-102-1 href=#__codelineno-102-1></a><span class=cp>{%</span> <span class=k>my_menu</span> <span class=nv>title</span><span class=o>=</span><span class=s2>&quot;Abc...&quot;</span> <span class=cp>%}</span>
<a id=__codelineno-102-2 name=__codelineno-102-2 href=#__codelineno-102-2></a><span class=x>    Hello World!</span>
<a id=__codelineno-102-3 name=__codelineno-102-3 href=#__codelineno-102-3></a><span class=cp>{%</span> <span class=k>endmy_menu</span> <span class=cp>%}</span>
</code></pre></div> </li> </ol> <p>Contributing and development</p> <h2 id=running-playwright-tests>Running Playwright tests<a class=headerlink href=#running-playwright-tests title="Permanent link">Â¤</a></h2> <p>We use <a href=https://playwright.dev/python/docs/intro>Playwright</a> for end-to-end tests. You will therefore need to install Playwright to be able to run these tests.</p> <p>Luckily, Playwright makes it very easy:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-103-1 name=__codelineno-103-1 href=#__codelineno-103-1></a>pip<span class=w> </span>install<span class=w> </span>-r<span class=w> </span>requirements-dev.txt
<a id=__codelineno-103-2 name=__codelineno-103-2 href=#__codelineno-103-2></a>playwright<span class=w> </span>install<span class=w> </span>chromium<span class=w> </span>--with-deps
</code></pre></div> <p>After Playwright is ready, simply run the tests with <code>tox</code>: <div class=highlight><pre><span></span><code><a id=__codelineno-104-1 name=__codelineno-104-1 href=#__codelineno-104-1></a>tox
</code></pre></div></p> <h2 id=building-js-code>Building JS code<a class=headerlink href=#building-js-code title="Permanent link">Â¤</a></h2> <p>django_components uses a bit of JS code to: - Manage the loading of JS and CSS files used by the components - Allow to pass data from Python to JS</p> <p>When you make changes to this JS code, you also need to compile it:</p> <ol> <li>Make sure you are inside <code>src/django_components_js</code>:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-105-1 name=__codelineno-105-1 href=#__codelineno-105-1></a><span class=nb>cd</span><span class=w> </span>src/django_components_js
</code></pre></div> <ol> <li>Install the JS dependencies</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-106-1 name=__codelineno-106-1 href=#__codelineno-106-1></a>npm<span class=w> </span>install
</code></pre></div> <ol> <li>Compile the JS/TS code:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-107-1 name=__codelineno-107-1 href=#__codelineno-107-1></a>python<span class=w> </span>build.py
</code></pre></div> <p>The script will combine all JS/TS code into a single <code>.js</code> file, minify it, and copy it to <code>django_components/static/django_components/django_components.min.js</code>.</p> <h2 id=development-guides>Development guides<a class=headerlink href=#development-guides title="Permanent link">Â¤</a></h2> <ul> <li><a href=https://github.com/EmilStenstrom/django-components/blob/master/docs/slot_rendering.md>Slot rendering flot</a></li> <li><a href=https://github.com/EmilStenstrom/django-components/blob/master/docs/slots_and_blocks.md>Slots and blocks</a></li> </ul> <!-- END INCLUDE --> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2024-08-02T21:06:55+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-08-02</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg> </span> <nav> <a href=mailto:git@dugny.me>Gabriel Dugny</a> </nav> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=.. class="md-footer__link md-footer__link--prev" aria-label="Previous: Index"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Index </div> </div> </a> <a href=../CODE_OF_CONDUCT/ class="md-footer__link md-footer__link--next" aria-label="Next: Code of Conduct"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Code of Conduct </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/EmilStenstrom/django-components target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/django-components/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.expand", "navigation.footer", "navigation.instant", "navigation.instant.progress", "navigation.indexes", "navigation.sections", "navigation.tracking", "navigation.top", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": ["dev"], "provider": "mike"}}</script> <script src=../assets/javascripts/bundle.56dfad97.min.js></script> <script src=../assets/_markdown_exec_pyodide.js></script> <script src=../js/timeago.min.js></script> <script src=../js/timeago_mkdocs_material.js></script> </body> </html>